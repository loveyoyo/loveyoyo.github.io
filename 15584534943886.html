<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  TextView - Kang
  
  </title>
 <meta name="description" content="个人文章">
 <link href="atom.xml" rel="alternate" title="Kang" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">Kang</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Kang</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>四大组件</label></li>

          
            <li><a title="控制系统硬件功能" href="15603585084416.html">控制系统硬件功能</a></li>
          
            <li><a title="拍照和读取本地照片" href="15603582022474.html">拍照和读取本地照片</a></li>
          
            <li><a title="ContentProvider" href="15603581865930.html">ContentProvider</a></li>
          
            <li><a title="Service" href="15603581806506.html">Service</a></li>
          
            <li><a title="BroadcastReceiver" href="15603581707523.html">BroadcastReceiver</a></li>
          
            <li><a title="Activity" href="15598792154683.html">Activity</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android组件</label></li>

          
            <li><a title="ScrollView和HorizontalView" href="15601389773513.html">ScrollView和HorizontalView</a></li>
          
            <li><a title="ViewPager" href="15601389699132.html">ViewPager</a></li>
          
            <li><a title="WebView" href="15601389648936.html">WebView</a></li>
          
            <li><a title="RecyclerView" href="15601389530971.html">RecyclerView</a></li>
          
            <li><a title="ListView" href="15590482064056.html">ListView</a></li>
          
            <li><a title="ProgressBar" href="15601389345357.html">ProgressBar</a></li>
          
            <li><a title="CheckBox和RadioButton" href="15601388701602.html">CheckBox和RadioButton</a></li>
          
            <li><a title="Spinner" href="15601388608282.html">Spinner</a></li>
          
            <li><a title="ImageView" href="15590447462728.html">ImageView</a></li>
          
            <li><a title="Button" href="15590305484634.html">Button</a></li>
          
            <li><a title="EditText" href="15587752872990.html">EditText</a></li>
          
            <li><a title="TextView" href="15584534943886.html">TextView</a></li>
          
            <li><a title="View" href="15587797736951.html">View</a></li>
          
            <li><a title="序" href="15584059143309.html">序</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android Studio技巧</label></li>

          
            <li><a title="Android Studio使用小技巧" href="15586135036171.html">Android Studio使用小技巧</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android其他</label></li>

          
            <li><a title="" href="15603582307379.html"></a></li>
          
            <li><a title="拍照和读取本地照片" href="15603582022474.html">拍照和读取本地照片</a></li>
          
            <li><a title="SharedPreferences" href="15601718627780.html">SharedPreferences</a></li>
          
            <li><a title="Permissions权限" href="15597992631758.html">Permissions权限</a></li>
          
            <li><a title="res文件夹中的资源" href="15597050707116.html">res文件夹中的资源</a></li>
          
            <li><a title="Manifest清单文件" href="15596519462062.html">Manifest清单文件</a></li>
          
            <li><a title="动画" href="15591315255964.html">动画</a></li>
          
            <li><a title="Style和Theme" href="15591171572096.html">Style和Theme</a></li>
          

      
        <li class="divider"></li>
        <li><label>React-Native</label></li>

          
            <li><a title="react-navigation" href="15584071613702.html">react-navigation</a></li>
          

      
        <li class="divider"></li>
        <li><label>随想</label></li>

          
            <li><a title="年年岁岁 碎碎念念" href="15600901474068.html">年年岁岁 碎碎念念</a></li>
          
            <li><a title="陌上归--序" href="15595397108681.html">陌上归--序</a></li>
          
            <li><a title="for" href="15583472660662.html">for</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>四大组件</span></li>
                        
                          <li><a title="控制系统硬件功能" href="15603585084416.html">控制系统硬件功能</a></li>
                        
                          <li><a title="拍照和读取本地照片" href="15603582022474.html">拍照和读取本地照片</a></li>
                        
                          <li><a title="ContentProvider" href="15603581865930.html">ContentProvider</a></li>
                        
                          <li><a title="Service" href="15603581806506.html">Service</a></li>
                        
                          <li><a title="BroadcastReceiver" href="15603581707523.html">BroadcastReceiver</a></li>
                        
                          <li><a title="Activity" href="15598792154683.html">Activity</a></li>
                        

                    
                      <li class="side-title"><span>Android组件</span></li>
                        
                          <li><a title="ScrollView和HorizontalView" href="15601389773513.html">ScrollView和HorizontalView</a></li>
                        
                          <li><a title="ViewPager" href="15601389699132.html">ViewPager</a></li>
                        
                          <li><a title="WebView" href="15601389648936.html">WebView</a></li>
                        
                          <li><a title="RecyclerView" href="15601389530971.html">RecyclerView</a></li>
                        
                          <li><a title="ListView" href="15590482064056.html">ListView</a></li>
                        
                          <li><a title="ProgressBar" href="15601389345357.html">ProgressBar</a></li>
                        
                          <li><a title="CheckBox和RadioButton" href="15601388701602.html">CheckBox和RadioButton</a></li>
                        
                          <li><a title="Spinner" href="15601388608282.html">Spinner</a></li>
                        
                          <li><a title="ImageView" href="15590447462728.html">ImageView</a></li>
                        
                          <li><a title="Button" href="15590305484634.html">Button</a></li>
                        
                          <li><a title="EditText" href="15587752872990.html">EditText</a></li>
                        
                          <li><a title="TextView" href="15584534943886.html">TextView</a></li>
                        
                          <li><a title="View" href="15587797736951.html">View</a></li>
                        
                          <li><a title="序" href="15584059143309.html">序</a></li>
                        

                    
                      <li class="side-title"><span>Android Studio技巧</span></li>
                        
                          <li><a title="Android Studio使用小技巧" href="15586135036171.html">Android Studio使用小技巧</a></li>
                        

                    
                      <li class="side-title"><span>Android其他</span></li>
                        
                          <li><a title="" href="15603582307379.html"></a></li>
                        
                          <li><a title="拍照和读取本地照片" href="15603582022474.html">拍照和读取本地照片</a></li>
                        
                          <li><a title="SharedPreferences" href="15601718627780.html">SharedPreferences</a></li>
                        
                          <li><a title="Permissions权限" href="15597992631758.html">Permissions权限</a></li>
                        
                          <li><a title="res文件夹中的资源" href="15597050707116.html">res文件夹中的资源</a></li>
                        
                          <li><a title="Manifest清单文件" href="15596519462062.html">Manifest清单文件</a></li>
                        
                          <li><a title="动画" href="15591315255964.html">动画</a></li>
                        
                          <li><a title="Style和Theme" href="15591171572096.html">Style和Theme</a></li>
                        

                    
                      <li class="side-title"><span>React-Native</span></li>
                        
                          <li><a title="react-navigation" href="15584071613702.html">react-navigation</a></li>
                        

                    
                      <li class="side-title"><span>随想</span></li>
                        
                          <li><a title="年年岁岁 碎碎念念" href="15600901474068.html">年年岁岁 碎碎念念</a></li>
                        
                          <li><a title="陌上归--序" href="15595397108681.html">陌上归--序</a></li>
                        
                          <li><a title="for" href="15583472660662.html">for</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>TextView</h1>

<h2 id="toc_0">TextView的常用属性：</h2>

<ul>
<li><font color=red>text</font>：文本内容,在java代码中设置为<font color=red>setText()</font>;</li>
</ul>

<pre class="line-numbers"><code class="language-java">android:text=&quot;这是文本&quot;
mTextView.setText(&quot;这是文本&quot;)
</code></pre>

<ul>
<li><font color=red>textSize</font>:文本字体大小，在java代码中设置为setTextSize();</li>
<li><font color=red>textColor</font>:文本颜色，在java代码中设置为setTextColor();</li>
<li><font color=red>gravity</font>:文字在一行中的位置，在java代码中设置为setGravity();</li>
<li><font color=red>hint</font>:提示文本内容，在java代码中设置为setHint();</li>
<li><font color=red>textColorHint</font>:提示文本颜色，在java代码中设置为setTextColorHint();</li>
<li><font color=red>singleLine</font>:是否单行显示，在java代码中设置为setSingleLine();</li>
<li><font color=red>maxLength</font>:最大字数;</li>
<li><font color=red>maxLines</font>:最大行数;</li>
<li><font color=red>background</font>:背景颜色;</li>
<li><font color=red>shadowColor</font>:阴影颜色;</li>
<li><font color=red>shadowDx</font>:阴影水平位移;</li>
<li><font color=red>shadowDy</font>:阴影垂直位移;</li>
<li><font color=red>shadowRadius</font>:阴影范围;</li>
<li><font color=red>drawableLeft</font>:文本左边显示图片;</li>
<li><font color=red>drawableRight</font>:文本右边显示图片;</li>
<li><font color=red>drawableTop</font>:文本上边显示图片;</li>
<li><font color=red>drawableBottom</font>:文本下边显示图片;</li>
<li><font color=red>drawablePadding</font>:文本和显示的图片之间的距离;</li>
<li><font color=red>textStyle</font>:文本风格;</li>
<li><font color=red>ellipsize</font>:文本的缩略方式;</li>
</ul>

<h2 id="toc_1">TextView的常见用法：</h2>

<ul>
<li><p><font color=red>文本中的链接</font>：比如文本中的手机号码、网址、邮箱的链接的点击跳转；<br/>
1.在xml文件的TextView设置<font color=red>android:autoLink=&quot;&quot;</font>这个属性，可取的值有all、phone、web、email、map、none；这样会自动匹配文本中的网址、手机号等，被匹配的文字可以被点击进行相应页面的跳转，比如跳转到打电话页面。<br/>
但是也会有一个问题，就是文本颜色是系统默认的颜色以及被匹配的文字下面会有下划线，以及单击和长按事件的冲突，长按事件会出发单击事件；<br/>
我们可以自己定义一个Span继承自系统的URLSpan，来实现文本颜色，是否有下划线以及点击事件的自定义；其中手机号码自动链接时，会有一个匹配最小长度的数字，我在某些手机上有看到需要至少五个数字才会认为是手机号码。我看了源码，里面是写要大于等于五个数字才会被认为是手机号码，可能不同的手机厂商对此数字长度又有自己的定制吧。<br/>
相应的问题在别人的文章中已经指明了：<a href="https://www.jianshu.com/p/d3bef8449960"><font color=red>TextView autoLink小技巧 - 从源码的角度理解并解决autoLink的所有大坑</font></a></p>
<p>实现自动链接，有如下几种方法：<br/>
1.在xml文件中声明android:autoLink=&quot;&quot;属性；<br/>
2.在代码中使用TextView的setMovementMethod(LinkMovementMethod.getInstance())方法;<br/>
3.使用Html.fromHtml()方法；<br/>
4.使用SpannableString来实现复杂的文字效果；</p>
<p>我也跟着在demo中模仿着写了关于autoLink属性的代码，<font color=red>demo地址:<a href="https://github.com/loveyoyo/SimpleDemo/blob/master/app/src/main/java/com/kang/demo/widget/TextViewURLSpanActivity.java">https://github.com/loveyoyo/SimpleDemo/blob/master/app/src/main/java/com/kang/demo/widget/TextViewURLSpanActivity.java</a></font></p></li>
<li><p><font color=red>旋转的TextView作为右上角标签</font> <br/>
就是使用android:rotation=&quot;&quot;这个属性来设置旋转，可能还需要配合android:transformPivotX=&quot;&quot;和android:transformPivotY=&quot;&quot;这两个属性来进行位置的微调。还需要注意的是旋转的文本的背景色，可以通过相邻的控件进行遮盖就实现了。代码在<font color=red>demo地址:<a href="https://github.com/loveyoyo/SimpleDemo/blob/master/app/src/main/java/com/kang/demo/widget/TextViewRotateActivity.java">https://github.com/loveyoyo/SimpleDemo/blob/master/app/src/main/java/com/kang/demo/widget/TextViewRotateActivity.java</a></font></p></li>
</ul>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15587752872990.html"  title="Previous Post: EditText">&laquo; EditText</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15587797736951.html" 
	        title="Next Post: View">View &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15584534943886.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
