<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Service--服务 - KangLu
  
  </title>
 <meta name="description" content="个人文章">
 <link href="atom.xml" rel="alternate" title="KangLu" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">KangLu</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; KangLu</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>Android Studio开发调试</label></li>

          
            <li><a title="AAPT命令" href="15706865946961.html">AAPT命令</a></li>
          
            <li><a title="ADB命令" href="15706865755803.html">ADB命令</a></li>
          
            <li><a title="APK文件结构以及优化APK的大小" href="15876077941240.html">APK文件结构以及优化APK的大小</a></li>
          
            <li><a title="Android Device Monitor工具" href="15955778686384.html">Android Device Monitor工具</a></li>
          
            <li><a title="Android Studio使用viewbinding" href="15927964749535.html">Android Studio使用viewbinding</a></li>
          
            <li><a title="Android Studio使用小技巧" href="15586135036171.html">Android Studio使用小技巧</a></li>
          
            <li><a title="Android Studio使用的插件" href="15747689633391.html">Android Studio使用的插件</a></li>
          
            <li><a title="Android Studio报的错误" href="15747589164365.html">Android Studio报的错误</a></li>
          
            <li><a title="Android Studio的Structure工具窗口" href="15979290265055.html">Android Studio的Structure工具窗口</a></li>
          
            <li><a title="Android将library打包成jar包或者aar文件" href="15777599008991.html">Android将library打包成jar包或者aar文件</a></li>
          
            <li><a title="Gradle和Gradle插件之间的版本关联" href="15663700347276.html">Gradle和Gradle插件之间的版本关联</a></li>
          
            <li><a title="SecureCRT工具使用" href="15744200819532.html">SecureCRT工具使用</a></li>
          
            <li><a title="build.gradle文件" href="15638732552597.html">build.gradle文件</a></li>
          
            <li><a title="使用ADB命令查看数据库数据·" href="15776895359955.html">使用ADB命令查看数据库数据·</a></li>
          
            <li><a title="使用TraceView" href="16001927395196.html">使用TraceView</a></li>
          
            <li><a title="使用tcpdump抓包" href="15966325912957.html">使用tcpdump抓包</a></li>
          
            <li><a title="编码习惯" href="15881280991297.html">编码习惯</a></li>
          
            <li><a title="设置代码信息模版" href="15686328305080.html">设置代码信息模版</a></li>
          

      
        <li class="divider"></li>
        <li><label>四大组件和其他基本文件</label></li>

          
            <li><a title="AIDL" href="15965603616547.html">AIDL</a></li>
          
            <li><a title="Activity" href="15598792154683.html">Activity</a></li>
          
            <li><a title="Activity的启动流程" href="15913608813328.html">Activity的启动流程</a></li>
          
            <li><a title="Activity的状态保存和恢复" href="15994232717477.html">Activity的状态保存和恢复</a></li>
          
            <li><a title="Activity的组成结构" href="15961826101444.html">Activity的组成结构</a></li>
          
            <li><a title="Android IPC机制" href="15876457912729.html">Android IPC机制</a></li>
          
            <li><a title="Android数据存储" href="15925546637258.html">Android数据存储</a></li>
          
            <li><a title="Android数据序列化" href="15874843676808.html">Android数据序列化</a></li>
          
            <li><a title="Android的KeyEvent按键触摸事件传递机制" href="15984305843879.html">Android的KeyEvent按键触摸事件传递机制</a></li>
          
            <li><a title="Android的MotionEvent事件传递机制" href="15862769966851.html">Android的MotionEvent事件传递机制</a></li>
          
            <li><a title="Android简介" href="15834044312131.html">Android简介</a></li>
          
            <li><a title="Binder机制" href="15719000904205.html">Binder机制</a></li>
          
            <li><a title="BroadcastReceiver" href="15603581707523.html">BroadcastReceiver</a></li>
          
            <li><a title="ContentProvider--内容提供者" href="15603581865930.html">ContentProvider--内容提供者</a></li>
          
            <li><a title="Gradle知识" href="15873151730996.html">Gradle知识</a></li>
          
            <li><a title="Intent" href="15640232512188.html">Intent</a></li>
          
            <li><a title="Service--服务" href="15603581806506.html">Service--服务</a></li>
          
            <li><a title="SharedPreferences" href="15601718627780.html">SharedPreferences</a></li>
          
            <li><a title="View体系" href="15892159078168.html">View体系</a></li>
          
            <li><a title="View树的绘制流程" href="15961852523240.html">View树的绘制流程</a></li>
          
            <li><a title="View的滑动" href="15988921451098.html">View的滑动</a></li>
          
            <li><a title="View的滑动冲突" href="15991357742601.html">View的滑动冲突</a></li>
          
            <li><a title="四大组件的工作过程" href="15881609494140.html">四大组件的工作过程</a></li>
          
            <li><a title="多线程" href="15895247341993.html">多线程</a></li>
          
            <li><a title="安卓事件处理" href="15717946812357.html">安卓事件处理</a></li>
          
            <li><a title="安卓存储方式" href="15720050214610.html">安卓存储方式</a></li>
          
            <li><a title="安卓系统架构" href="15900311156878.html">安卓系统架构</a></li>
          
            <li><a title="自定义View" href="15966352005041.html">自定义View</a></li>
          
            <li><a title="自定义View和自定义ViewGroup中主要方法的执行顺序" href="15979224400729.html">自定义View和自定义ViewGroup中主要方法的执行顺序</a></li>
          
            <li><a title="自定义容器" href="15975164203980.html">自定义容器</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android组件</label></li>

          
            <li><a title="Adapter及其子类" href="15987345244709.html">Adapter及其子类</a></li>
          
            <li><a title="BottomSheetBehavior" href="15873151109302.html">BottomSheetBehavior</a></li>
          
            <li><a title="Button" href="15590305484634.html">Button</a></li>
          
            <li><a title="CheckBox和RadioButton" href="15601388701602.html">CheckBox和RadioButton</a></li>
          
            <li><a title="CollaspingToolbarLayout" href="15873150961844.html">CollaspingToolbarLayout</a></li>
          
            <li><a title="ConstraintLayout" href="15720053521924.html">ConstraintLayout</a></li>
          
            <li><a title="CoordinatorLayout" href="15873150855710.html">CoordinatorLayout</a></li>
          
            <li><a title="EditText" href="15587752872990.html">EditText</a></li>
          
            <li><a title="FloatingActionButton" href="15873151238128.html">FloatingActionButton</a></li>
          
            <li><a title="Fragment" href="15830020373441.html">Fragment</a></li>
          
            <li><a title="ImageView" href="15590447462728.html">ImageView</a></li>
          
            <li><a title="ListView" href="15590482064056.html">ListView</a></li>
          
            <li><a title="NavigationView" href="15873151137838.html">NavigationView</a></li>
          
            <li><a title="ProgressBar" href="15601389345357.html">ProgressBar</a></li>
          
            <li><a title="RatingBar" href="15832323147149.html">RatingBar</a></li>
          
            <li><a title="RecyclerView" href="15601389530971.html">RecyclerView</a></li>
          
            <li><a title="ScrollView和HorizontalView" href="15601389773513.html">ScrollView和HorizontalView</a></li>
          
            <li><a title="SeekBar" href="15832322241074.html">SeekBar</a></li>
          
            <li><a title="Snackbar" href="15873150711511.html">Snackbar</a></li>
          
            <li><a title="Spinner" href="15601388608282.html">Spinner</a></li>
          
            <li><a title="SwipeRefreshLayout" href="15607374213373.html">SwipeRefreshLayout</a></li>
          
            <li><a title="TabLayout" href="15639475255226.html">TabLayout</a></li>
          
            <li><a title="TabLayout" href="15873151075682.html">TabLayout</a></li>
          
            <li><a title="TextInputLayout" href="15873150854952.html">TextInputLayout</a></li>
          
            <li><a title="TextView" href="15584534943886.html">TextView</a></li>
          
            <li><a title="Toast" href="15832318775043.html">Toast</a></li>
          
            <li><a title="ViewPager" href="15601389699132.html">ViewPager</a></li>
          
            <li><a title="View（视图）" href="15587797736951.html">View（视图）</a></li>
          
            <li><a title="WebView" href="15601389648936.html">WebView</a></li>
          
            <li><a title="WheelView" href="15832330644393.html">WheelView</a></li>
          
            <li><a title="三大布局根控件" href="15832328030131.html">三大布局根控件</a></li>
          
            <li><a title="序" href="15584059143309.html">序</a></li>
          
            <li><a title="时间相关的控件" href="15832327057402.html">时间相关的控件</a></li>
          

      
        <li class="divider"></li>
        <li><label>安卓消息机制</label></li>

          
            <li><a title="Android的消息机制--Handler消息机制" href="15887553843774.html">Android的消息机制--Handler消息机制</a></li>
          
            <li><a title="Handler消息机制" href="15681720095770.html">Handler消息机制</a></li>
          
            <li><a title="Handler类" href="15915526788145.html">Handler类</a></li>
          
            <li><a title="Looper类" href="15915526673284.html">Looper类</a></li>
          
            <li><a title="MessageQueue类" href="15915526852831.html">MessageQueue类</a></li>
          
            <li><a title="Message类" href="15915526938269.html">Message类</a></li>
          
            <li><a title="Thread" href="15941454444849.html">Thread</a></li>
          
            <li><a title="ThreadLocal类" href="15915526996179.html">ThreadLocal类</a></li>
          

      
        <li class="divider"></li>
        <li><label>网络请求相关</label></li>

          
            <li><a title="HttpClient和HttpURLConnection" href="15897672365492.html">HttpClient和HttpURLConnection</a></li>
          
            <li><a title="网络相关" href="15616048657421.html">网络相关</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android功能</label></li>

          
            <li><a title="json/xml数据解析" href="15832336723066.html">json/xml数据解析</a></li>
          
            <li><a title="事件处理" href="15832335313602.html">事件处理</a></li>
          
            <li><a title="二维码和条形码" href="15832334567005.html">二维码和条形码</a></li>
          
            <li><a title="图表" href="15832335046878.html">图表</a></li>
          
            <li><a title="安卓系统设置" href="15794224269421.html">安卓系统设置</a></li>
          
            <li><a title="导航菜单" href="15832335120230.html">导航菜单</a></li>
          
            <li><a title="屏幕适配" href="15832335578226.html">屏幕适配</a></li>
          
            <li><a title="常用工具类和方法" href="15609277381914.html">常用工具类和方法</a></li>
          
            <li><a title="手势关闭" href="15832335221530.html">手势关闭</a></li>
          
            <li><a title="拍照和读取本地相册" href="15603979455589.html">拍照和读取本地相册</a></li>
          
            <li><a title="换肤" href="15832335396541.html">换肤</a></li>
          
            <li><a title="控制系统硬件功能" href="15603585084416.html">控制系统硬件功能</a></li>
          
            <li><a title="插件化" href="15832337513162.html">插件化</a></li>
          
            <li><a title="数据库" href="15832334917388.html">数据库</a></li>
          
            <li><a title="文件上传、下载、断点续传" href="15832337021510.html">文件上传、下载、断点续传</a></li>
          
            <li><a title="新手引导" href="15832334714220.html">新手引导</a></li>
          
            <li><a title="日志保存到本地" href="15832038130305.html">日志保存到本地</a></li>
          
            <li><a title="热修复" href="15832337461818.html">热修复</a></li>
          
            <li><a title="状态栏" href="15832335450787.html">状态栏</a></li>
          
            <li><a title="轮播图" href="15832334294029.html">轮播图</a></li>
          
            <li><a title="音视频" href="15832332927437.html">音视频</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android资源文件</label></li>

          
            <li><a title="64K方法数限制原理与解决方案" href="16012264048970.html">64K方法数限制原理与解决方案</a></li>
          
            <li><a title="Android 布局优化" href="15900636437169.html">Android 布局优化</a></li>
          
            <li><a title="Android插件框架机制" href="16012289364746.html">Android插件框架机制</a></li>
          
            <li><a title="Drawable文件" href="15832339330725.html">Drawable文件</a></li>
          
            <li><a title="Handler消息机制" href="15640230934557.html">Handler消息机制</a></li>
          
            <li><a title="Permissions权限" href="15597992631758.html">Permissions权限</a></li>
          
            <li><a title="Style和Theme" href="15591171572096.html">Style和Theme</a></li>
          
            <li><a title="assets资源" href="15608221314548.html">assets资源</a></li>
          
            <li><a title="res文件夹中的资源" href="15597050707116.html">res文件夹中的资源</a></li>
          
            <li><a title="内存泄漏" href="15638690144641.html">内存泄漏</a></li>
          
            <li><a title="动画" href="15591315255964.html">动画</a></li>
          
            <li><a title="反编译" href="15626395593984.html">反编译</a></li>
          
            <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
          
            <li><a title="异步消息处理线程" href="15744242463129.html">异步消息处理线程</a></li>
          
            <li><a title="推送机制" href="16012297259440.html">推送机制</a></li>
          
            <li><a title="画图" href="15627251763320.html">画图</a></li>
          

      
        <li class="divider"></li>
        <li><label>安卓多媒体、图像</label></li>

          
            <li><a title="Android WebView和JavaScript的交互" href="15874899350106.html">Android WebView和JavaScript的交互</a></li>
          
            <li><a title="AudioManager" href="15960319990767.html">AudioManager</a></li>
          
            <li><a title="Bitmap类和BitmapDrawable类" href="15976898855375.html">Bitmap类和BitmapDrawable类</a></li>
          
            <li><a title="Canvas的clipXxx()方法" href="15977771825588.html">Canvas的clipXxx()方法</a></li>
          
            <li><a title="Canvas的坐标转换" href="15977752461748.html">Canvas的坐标转换</a></li>
          
            <li><a title="Canvas类和Paint类" href="15976921344218.html">Canvas类和Paint类</a></li>
          
            <li><a title="Point类和PointF类" href="15976663490288.html">Point类和PointF类</a></li>
          
            <li><a title="Rect类和RectF类" href="15976691326047.html">Rect类和RectF类</a></li>
          
            <li><a title="View的invalidate()方法" href="15977739560419.html">View的invalidate()方法</a></li>
          
            <li><a title="位图运算" href="15978627842395.html">位图运算</a></li>
          
            <li><a title="双缓存技术" href="15978446413433.html">双缓存技术</a></li>
          
            <li><a title="相机相关" href="15635278316611.html">相机相关</a></li>
          
            <li><a title="阴影和渐变" href="15978578322849.html">阴影和渐变</a></li>
          
            <li><a title="音视频相关" href="15635278413412.html">音视频相关</a></li>
          

      
        <li class="divider"></li>
        <li><label>第三方库</label></li>

          
            <li><a title="ButterKnife" href="15632682824135.html">ButterKnife</a></li>
          
            <li><a title="EventBus" href="15632682766122.html">EventBus</a></li>
          
            <li><a title="Fresco" href="15632683056692.html">Fresco</a></li>
          
            <li><a title="Glide" href="15632682942973.html">Glide</a></li>
          
            <li><a title="GreenDao" href="15632683120036.html">GreenDao</a></li>
          
            <li><a title="Gson" href="15632684493835.html">Gson</a></li>
          
            <li><a title="LeakCanary" href="15632684640367.html">LeakCanary</a></li>
          
            <li><a title="OkHttp3" href="15632682616090.html">OkHttp3</a></li>
          
            <li><a title="Picasso" href="15632683006333.html">Picasso</a></li>
          
            <li><a title="Retrofit" href="15632682688049.html">Retrofit</a></li>
          
            <li><a title="RxJava" href="15632683277748.html">RxJava</a></li>
          
            <li><a title="SqlBright" href="15632683205618.html">SqlBright</a></li>
          
            <li><a title="Stetho" href="15632684758267.html">Stetho</a></li>
          
            <li><a title="二维码条形码库" href="15632683396317.html">二维码条形码库</a></li>
          
            <li><a title="推送" href="15632684365504.html">推送</a></li>
          
            <li><a title="支付" href="15632684444086.html">支付</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android系统相关</label></li>

          
            <li><a title="ANR以及解决方法以及捕获未捕获的异常" href="16002456845586.html">ANR以及解决方法以及捕获未捕获的异常</a></li>
          
            <li><a title="APK启动过程" href="16007836387351.html">APK启动过程</a></li>
          
            <li><a title="APK安装过程" href="15997078103768.html">APK安装过程</a></li>
          
            <li><a title="Android系统启动过程" href="15946404844407.html">Android系统启动过程</a></li>
          
            <li><a title="AsyncTask.java" href="15953888428518.html">AsyncTask.java</a></li>
          
            <li><a title="Binder" href="15982033025648.html">Binder</a></li>
          
            <li><a title="Context" href="15936928417691.html">Context</a></li>
          
            <li><a title="KeyEvent按键点击事件处理流程" href="15982890451497.html">KeyEvent按键点击事件处理流程</a></li>
          
            <li><a title="ListView设置Adapter和更新数据源码分析--观察者模式" href="15951954419377.html">ListView设置Adapter和更新数据源码分析--观察者模式</a></li>
          
            <li><a title="Manifest清单文件" href="15596519462062.html">Manifest清单文件</a></li>
          
            <li><a title="MotionEvent屏幕触摸事件分发流程" href="15983458791697.html">MotionEvent屏幕触摸事件分发流程</a></li>
          
            <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
          
            <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
          
            <li><a title="SystemServer.java" href="15948434761291.html">SystemServer.java</a></li>
          
            <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
          
            <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
          
            <li><a title="Window和WindowManager" href="15882183325715.html">Window和WindowManager</a></li>
          
            <li><a title="apk文件以及打包流程" href="16006415583476.html">apk文件以及打包流程</a></li>
          
            <li><a title="setContentView()" href="15954049156461.html">setContentView()</a></li>
          
            <li><a title="内存溢出和解决方法" href="16001927297660.html">内存溢出和解决方法</a></li>
          

      
        <li class="divider"></li>
        <li><label>安卓源码</label></li>

          
            <li><a title="ComponentCallbacks和ComponentCallbacks2" href="15959378334016.html">ComponentCallbacks和ComponentCallbacks2</a></li>
          
            <li><a title="GestureDetector" href="15988119621841.html">GestureDetector</a></li>
          
            <li><a title="HandlerThread" href="16002981223383.html">HandlerThread</a></li>
          
            <li><a title="IntentService" href="16002980534244.html">IntentService</a></li>
          
            <li><a title="JNI调用机制" href="15719841747032.html">JNI调用机制</a></li>
          
            <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
          
            <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
          
            <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
          
            <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
          
            <li><a title="onUserInteraction()与onUserLeaveHint()" href="16003048093058.html">onUserInteraction()与onUserLeaveHint()</a></li>
          
            <li><a title="preloaded-classes" href="15717452568747.html">preloaded-classes</a></li>
          
            <li><a title="安卓源码目录结构分析" href="15713661513977.html">安卓源码目录结构分析</a></li>
          

      
        <li class="divider"></li>
        <li><label>Framework</label></li>

          
            <li><a title="Android.mk文件" href="15773673300273.html">Android.mk文件</a></li>
          
            <li><a title="Android的编译环境--Build系统" href="15791618199796.html">Android的编译环境--Build系统</a></li>
          
            <li><a title="连接Android和Linux内核的桥梁——Android的Bionic" href="15796625335119.html">连接Android和Linux内核的桥梁——Android的Bionic</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android内核剖析</label></li>

          
            <li><a title="Binder" href="15747333089774.html">Binder</a></li>
          
            <li><a title="Framework概述" href="15747509659838.html">Framework概述</a></li>
          
            <li><a title="Framework的启动过程" href="15747331308712.html">Framework的启动过程</a></li>
          

      
        <li class="divider"></li>
        <li><label>深入理解Android</label></li>

          
            <li><a title="2.Android的编译环境--Build系统" href="15825987090516.html">2.Android的编译环境--Build系统</a></li>
          
            <li><a title="3. 连接Android和Linux内核的桥梁--Android的Bionic" href="15826096876760.html">3. 连接Android和Linux内核的桥梁--Android的Bionic</a></li>
          
            <li><a title="深入理解Android输入系统" href="16006883092534.html">深入理解Android输入系统</a></li>
          
            <li><a title="深入理解PackageManagerService" href="16008487631075.html">深入理解PackageManagerService</a></li>
          
            <li><a title="深入理解Surface系统" href="16007635680752.html">深入理解Surface系统</a></li>
          
            <li><a title="深入理解WindowManagerService" href="16007630337829.html">深入理解WindowManagerService</a></li>
          

      
        <li class="divider"></li>
        <li><label>Git</label></li>

          
            <li><a title="Git常见用法" href="15607376634694.html">Git常见用法</a></li>
          
            <li><a title="Git按照功能来分类" href="15718356444970.html">Git按照功能来分类</a></li>
          
            <li><a title="git概述" href="15720062741897.html">git概述</a></li>
          

      
        <li class="divider"></li>
        <li><label>Java</label></li>

          
            <li><a title="Java小知识点" href="15777569350023.html">Java小知识点</a></li>
          
            <li><a title="Java的四种引用变量" href="15877076691357.html">Java的四种引用变量</a></li>
          
            <li><a title="MeasureSpec" href="15864726816307.html">MeasureSpec</a></li>
          
            <li><a title="杂记" href="15948431328032.html">杂记</a></li>
          

      
        <li class="divider"></li>
        <li><label>设计模式</label></li>

          
            <li><a title="代理模式" href="15900263250197.html">代理模式</a></li>
          
            <li><a title="单例模式" href="15897847467736.html">单例模式</a></li>
          
            <li><a title="工厂方法模式" href="15897849469753.html">工厂方法模式</a></li>
          
            <li><a title="建造者模式" href="15897849590411.html">建造者模式</a></li>
          
            <li><a title="简单工厂模式" href="15897849322436.html">简单工厂模式</a></li>
          
            <li><a title="简单工厂模式(Simple Factory)" href="15784035954571.html">简单工厂模式(Simple Factory)</a></li>
          
            <li><a title="设计模式概述" href="15783889880973.html">设计模式概述</a></li>
          

      
        <li class="divider"></li>
        <li><label>数据结构和算法</label></li>

          
            <li><a title="排序算法" href="15881272462871.html">排序算法</a></li>
          
            <li><a title="数据结构基础" href="15644690293137.html">数据结构基础</a></li>
          
            <li><a title="树" href="15881273285027.html">树</a></li>
          
            <li><a title="算法概述" href="15644655646063.html">算法概述</a></li>
          
            <li><a title="面试中的算法" href="15970860318982.html">面试中的算法</a></li>
          

      
        <li class="divider"></li>
        <li><label>网络爬虫</label></li>

          
            <li><a title="爬虫--基本库的使用" href="15660531164999.html">爬虫--基本库的使用</a></li>
          
            <li><a title="爬虫概述" href="15660114926379.html">爬虫概述</a></li>
          

      
        <li class="divider"></li>
        <li><label>计算机网络</label></li>

          
            <li><a title="HTTP和HTTPS" href="15850526868228.html">HTTP和HTTPS</a></li>
          
            <li><a title="TCP/IP" href="15852402680558.html">TCP/IP</a></li>
          
            <li><a title="ping命令" href="15832390905461.html">ping命令</a></li>
          
            <li><a title="与HTTP关系密切的协议:IP、TCP和DNS" href="15852895411848.html">与HTTP关系密切的协议:IP、TCP和DNS</a></li>
          
            <li><a title="图解HTTP--第一章--了解Web及网络基础" href="16023212652925.html">图解HTTP--第一章--了解Web及网络基础</a></li>
          
            <li><a title="图解HTTP--第七章--确保web安全的https" href="15855763389947.html">图解HTTP--第七章--确保web安全的https</a></li>
          
            <li><a title="图解HTTP--第三章--HTTP报文内的HTTP信息" href="15853911594446.html">图解HTTP--第三章--HTTP报文内的HTTP信息</a></li>
          
            <li><a title="图解HTTP--第九章--基于http的功能追加协议" href="15855764881285.html">图解HTTP--第九章--基于http的功能追加协议</a></li>
          
            <li><a title="图解HTTP--第二章--简单的HTTP协议" href="15853261274339.html">图解HTTP--第二章--简单的HTTP协议</a></li>
          
            <li><a title="图解HTTP--第五章--与HTTP协作的Web服务器" href="15855728450260.html">图解HTTP--第五章--与HTTP协作的Web服务器</a></li>
          
            <li><a title="图解HTTP--第八章--确认访问用户身份的认证" href="15855764130446.html">图解HTTP--第八章--确认访问用户身份的认证</a></li>
          
            <li><a title="图解HTTP--第六章--http首部" href="15855761102550.html">图解HTTP--第六章--http首部</a></li>
          
            <li><a title="图解HTTP--第四章--返回结果的http状态码" href="15855701437164.html">图解HTTP--第四章--返回结果的http状态码</a></li>
          
            <li><a title="基础" href="15650980568729.html">基础</a></li>
          
            <li><a title="计算机网络第五版--第一章" href="15846863033375.html">计算机网络第五版--第一章</a></li>
          
            <li><a title="计算机网络第五版--第二章" href="15849271154228.html">计算机网络第五版--第二章</a></li>
          

      
        <li class="divider"></li>
        <li><label>计算机基础</label></li>

          
            <li><a title="HTTP基本原理" href="15659232055748.html">HTTP基本原理</a></li>
          
            <li><a title="Java语言中注意事项" href="15906748975501.html">Java语言中注意事项</a></li>
          
            <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
          
            <li><a title="术语" href="15831479672487.html">术语</a></li>
          
            <li><a title="简单常识" href="15955796448880.html">简单常识</a></li>
          

      
        <li class="divider"></li>
        <li><label>Linux系统</label></li>

          
            <li><a title="基础简述" href="15719238641803.html">基础简述</a></li>
          

      
        <li class="divider"></li>
        <li><label>React-Native</label></li>

          
            <li><a title="React-Native零碎" href="15616187358724.html">React-Native零碎</a></li>
          
            <li><a title="ScrollView组件" href="15622306484069.html">ScrollView组件</a></li>
          
            <li><a title="TextInput组件" href="15621338635960.html">TextInput组件</a></li>
          
            <li><a title="react-navigation" href="15584071613702.html">react-navigation</a></li>
          
            <li><a title="组件" href="15617091937336.html">组件</a></li>
          
            <li><a title="组件的生命周期" href="15621446974979.html">组件的生命周期</a></li>
          
            <li><a title="遇到的问题" href="15620469922995.html">遇到的问题</a></li>
          

      
        <li class="divider"></li>
        <li><label>随想</label></li>

          
            <li><a title="for" href="15583472660662.html">for</a></li>
          
            <li><a title="to be a free man" href="15605804886383.html">to be a free man</a></li>
          
            <li><a title="需要后续查看的东西" href="15893692089911.html">需要后续查看的东西</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>Android Studio开发调试</span></li>
                        
                          <li><a title="AAPT命令" href="15706865946961.html">AAPT命令</a></li>
                        
                          <li><a title="ADB命令" href="15706865755803.html">ADB命令</a></li>
                        
                          <li><a title="APK文件结构以及优化APK的大小" href="15876077941240.html">APK文件结构以及优化APK的大小</a></li>
                        
                          <li><a title="Android Device Monitor工具" href="15955778686384.html">Android Device Monitor工具</a></li>
                        
                          <li><a title="Android Studio使用viewbinding" href="15927964749535.html">Android Studio使用viewbinding</a></li>
                        
                          <li><a title="Android Studio使用小技巧" href="15586135036171.html">Android Studio使用小技巧</a></li>
                        
                          <li><a title="Android Studio使用的插件" href="15747689633391.html">Android Studio使用的插件</a></li>
                        
                          <li><a title="Android Studio报的错误" href="15747589164365.html">Android Studio报的错误</a></li>
                        
                          <li><a title="Android Studio的Structure工具窗口" href="15979290265055.html">Android Studio的Structure工具窗口</a></li>
                        
                          <li><a title="Android将library打包成jar包或者aar文件" href="15777599008991.html">Android将library打包成jar包或者aar文件</a></li>
                        
                          <li><a title="Gradle和Gradle插件之间的版本关联" href="15663700347276.html">Gradle和Gradle插件之间的版本关联</a></li>
                        
                          <li><a title="SecureCRT工具使用" href="15744200819532.html">SecureCRT工具使用</a></li>
                        
                          <li><a title="build.gradle文件" href="15638732552597.html">build.gradle文件</a></li>
                        
                          <li><a title="使用ADB命令查看数据库数据·" href="15776895359955.html">使用ADB命令查看数据库数据·</a></li>
                        
                          <li><a title="使用TraceView" href="16001927395196.html">使用TraceView</a></li>
                        
                          <li><a title="使用tcpdump抓包" href="15966325912957.html">使用tcpdump抓包</a></li>
                        
                          <li><a title="编码习惯" href="15881280991297.html">编码习惯</a></li>
                        
                          <li><a title="设置代码信息模版" href="15686328305080.html">设置代码信息模版</a></li>
                        

                    
                      <li class="side-title"><span>四大组件和其他基本文件</span></li>
                        
                          <li><a title="AIDL" href="15965603616547.html">AIDL</a></li>
                        
                          <li><a title="Activity" href="15598792154683.html">Activity</a></li>
                        
                          <li><a title="Activity的启动流程" href="15913608813328.html">Activity的启动流程</a></li>
                        
                          <li><a title="Activity的状态保存和恢复" href="15994232717477.html">Activity的状态保存和恢复</a></li>
                        
                          <li><a title="Activity的组成结构" href="15961826101444.html">Activity的组成结构</a></li>
                        
                          <li><a title="Android IPC机制" href="15876457912729.html">Android IPC机制</a></li>
                        
                          <li><a title="Android数据存储" href="15925546637258.html">Android数据存储</a></li>
                        
                          <li><a title="Android数据序列化" href="15874843676808.html">Android数据序列化</a></li>
                        
                          <li><a title="Android的KeyEvent按键触摸事件传递机制" href="15984305843879.html">Android的KeyEvent按键触摸事件传递机制</a></li>
                        
                          <li><a title="Android的MotionEvent事件传递机制" href="15862769966851.html">Android的MotionEvent事件传递机制</a></li>
                        
                          <li><a title="Android简介" href="15834044312131.html">Android简介</a></li>
                        
                          <li><a title="Binder机制" href="15719000904205.html">Binder机制</a></li>
                        
                          <li><a title="BroadcastReceiver" href="15603581707523.html">BroadcastReceiver</a></li>
                        
                          <li><a title="ContentProvider--内容提供者" href="15603581865930.html">ContentProvider--内容提供者</a></li>
                        
                          <li><a title="Gradle知识" href="15873151730996.html">Gradle知识</a></li>
                        
                          <li><a title="Intent" href="15640232512188.html">Intent</a></li>
                        
                          <li><a title="Service--服务" href="15603581806506.html">Service--服务</a></li>
                        
                          <li><a title="SharedPreferences" href="15601718627780.html">SharedPreferences</a></li>
                        
                          <li><a title="View体系" href="15892159078168.html">View体系</a></li>
                        
                          <li><a title="View树的绘制流程" href="15961852523240.html">View树的绘制流程</a></li>
                        
                          <li><a title="View的滑动" href="15988921451098.html">View的滑动</a></li>
                        
                          <li><a title="View的滑动冲突" href="15991357742601.html">View的滑动冲突</a></li>
                        
                          <li><a title="四大组件的工作过程" href="15881609494140.html">四大组件的工作过程</a></li>
                        
                          <li><a title="多线程" href="15895247341993.html">多线程</a></li>
                        
                          <li><a title="安卓事件处理" href="15717946812357.html">安卓事件处理</a></li>
                        
                          <li><a title="安卓存储方式" href="15720050214610.html">安卓存储方式</a></li>
                        
                          <li><a title="安卓系统架构" href="15900311156878.html">安卓系统架构</a></li>
                        
                          <li><a title="自定义View" href="15966352005041.html">自定义View</a></li>
                        
                          <li><a title="自定义View和自定义ViewGroup中主要方法的执行顺序" href="15979224400729.html">自定义View和自定义ViewGroup中主要方法的执行顺序</a></li>
                        
                          <li><a title="自定义容器" href="15975164203980.html">自定义容器</a></li>
                        

                    
                      <li class="side-title"><span>Android组件</span></li>
                        
                          <li><a title="Adapter及其子类" href="15987345244709.html">Adapter及其子类</a></li>
                        
                          <li><a title="BottomSheetBehavior" href="15873151109302.html">BottomSheetBehavior</a></li>
                        
                          <li><a title="Button" href="15590305484634.html">Button</a></li>
                        
                          <li><a title="CheckBox和RadioButton" href="15601388701602.html">CheckBox和RadioButton</a></li>
                        
                          <li><a title="CollaspingToolbarLayout" href="15873150961844.html">CollaspingToolbarLayout</a></li>
                        
                          <li><a title="ConstraintLayout" href="15720053521924.html">ConstraintLayout</a></li>
                        
                          <li><a title="CoordinatorLayout" href="15873150855710.html">CoordinatorLayout</a></li>
                        
                          <li><a title="EditText" href="15587752872990.html">EditText</a></li>
                        
                          <li><a title="FloatingActionButton" href="15873151238128.html">FloatingActionButton</a></li>
                        
                          <li><a title="Fragment" href="15830020373441.html">Fragment</a></li>
                        
                          <li><a title="ImageView" href="15590447462728.html">ImageView</a></li>
                        
                          <li><a title="ListView" href="15590482064056.html">ListView</a></li>
                        
                          <li><a title="NavigationView" href="15873151137838.html">NavigationView</a></li>
                        
                          <li><a title="ProgressBar" href="15601389345357.html">ProgressBar</a></li>
                        
                          <li><a title="RatingBar" href="15832323147149.html">RatingBar</a></li>
                        
                          <li><a title="RecyclerView" href="15601389530971.html">RecyclerView</a></li>
                        
                          <li><a title="ScrollView和HorizontalView" href="15601389773513.html">ScrollView和HorizontalView</a></li>
                        
                          <li><a title="SeekBar" href="15832322241074.html">SeekBar</a></li>
                        
                          <li><a title="Snackbar" href="15873150711511.html">Snackbar</a></li>
                        
                          <li><a title="Spinner" href="15601388608282.html">Spinner</a></li>
                        
                          <li><a title="SwipeRefreshLayout" href="15607374213373.html">SwipeRefreshLayout</a></li>
                        
                          <li><a title="TabLayout" href="15639475255226.html">TabLayout</a></li>
                        
                          <li><a title="TabLayout" href="15873151075682.html">TabLayout</a></li>
                        
                          <li><a title="TextInputLayout" href="15873150854952.html">TextInputLayout</a></li>
                        
                          <li><a title="TextView" href="15584534943886.html">TextView</a></li>
                        
                          <li><a title="Toast" href="15832318775043.html">Toast</a></li>
                        
                          <li><a title="ViewPager" href="15601389699132.html">ViewPager</a></li>
                        
                          <li><a title="View（视图）" href="15587797736951.html">View（视图）</a></li>
                        
                          <li><a title="WebView" href="15601389648936.html">WebView</a></li>
                        
                          <li><a title="WheelView" href="15832330644393.html">WheelView</a></li>
                        
                          <li><a title="三大布局根控件" href="15832328030131.html">三大布局根控件</a></li>
                        
                          <li><a title="序" href="15584059143309.html">序</a></li>
                        
                          <li><a title="时间相关的控件" href="15832327057402.html">时间相关的控件</a></li>
                        

                    
                      <li class="side-title"><span>安卓消息机制</span></li>
                        
                          <li><a title="Android的消息机制--Handler消息机制" href="15887553843774.html">Android的消息机制--Handler消息机制</a></li>
                        
                          <li><a title="Handler消息机制" href="15681720095770.html">Handler消息机制</a></li>
                        
                          <li><a title="Handler类" href="15915526788145.html">Handler类</a></li>
                        
                          <li><a title="Looper类" href="15915526673284.html">Looper类</a></li>
                        
                          <li><a title="MessageQueue类" href="15915526852831.html">MessageQueue类</a></li>
                        
                          <li><a title="Message类" href="15915526938269.html">Message类</a></li>
                        
                          <li><a title="Thread" href="15941454444849.html">Thread</a></li>
                        
                          <li><a title="ThreadLocal类" href="15915526996179.html">ThreadLocal类</a></li>
                        

                    
                      <li class="side-title"><span>网络请求相关</span></li>
                        
                          <li><a title="HttpClient和HttpURLConnection" href="15897672365492.html">HttpClient和HttpURLConnection</a></li>
                        
                          <li><a title="网络相关" href="15616048657421.html">网络相关</a></li>
                        

                    
                      <li class="side-title"><span>Android功能</span></li>
                        
                          <li><a title="json/xml数据解析" href="15832336723066.html">json/xml数据解析</a></li>
                        
                          <li><a title="事件处理" href="15832335313602.html">事件处理</a></li>
                        
                          <li><a title="二维码和条形码" href="15832334567005.html">二维码和条形码</a></li>
                        
                          <li><a title="图表" href="15832335046878.html">图表</a></li>
                        
                          <li><a title="安卓系统设置" href="15794224269421.html">安卓系统设置</a></li>
                        
                          <li><a title="导航菜单" href="15832335120230.html">导航菜单</a></li>
                        
                          <li><a title="屏幕适配" href="15832335578226.html">屏幕适配</a></li>
                        
                          <li><a title="常用工具类和方法" href="15609277381914.html">常用工具类和方法</a></li>
                        
                          <li><a title="手势关闭" href="15832335221530.html">手势关闭</a></li>
                        
                          <li><a title="拍照和读取本地相册" href="15603979455589.html">拍照和读取本地相册</a></li>
                        
                          <li><a title="换肤" href="15832335396541.html">换肤</a></li>
                        
                          <li><a title="控制系统硬件功能" href="15603585084416.html">控制系统硬件功能</a></li>
                        
                          <li><a title="插件化" href="15832337513162.html">插件化</a></li>
                        
                          <li><a title="数据库" href="15832334917388.html">数据库</a></li>
                        
                          <li><a title="文件上传、下载、断点续传" href="15832337021510.html">文件上传、下载、断点续传</a></li>
                        
                          <li><a title="新手引导" href="15832334714220.html">新手引导</a></li>
                        
                          <li><a title="日志保存到本地" href="15832038130305.html">日志保存到本地</a></li>
                        
                          <li><a title="热修复" href="15832337461818.html">热修复</a></li>
                        
                          <li><a title="状态栏" href="15832335450787.html">状态栏</a></li>
                        
                          <li><a title="轮播图" href="15832334294029.html">轮播图</a></li>
                        
                          <li><a title="音视频" href="15832332927437.html">音视频</a></li>
                        

                    
                      <li class="side-title"><span>Android资源文件</span></li>
                        
                          <li><a title="64K方法数限制原理与解决方案" href="16012264048970.html">64K方法数限制原理与解决方案</a></li>
                        
                          <li><a title="Android 布局优化" href="15900636437169.html">Android 布局优化</a></li>
                        
                          <li><a title="Android插件框架机制" href="16012289364746.html">Android插件框架机制</a></li>
                        
                          <li><a title="Drawable文件" href="15832339330725.html">Drawable文件</a></li>
                        
                          <li><a title="Handler消息机制" href="15640230934557.html">Handler消息机制</a></li>
                        
                          <li><a title="Permissions权限" href="15597992631758.html">Permissions权限</a></li>
                        
                          <li><a title="Style和Theme" href="15591171572096.html">Style和Theme</a></li>
                        
                          <li><a title="assets资源" href="15608221314548.html">assets资源</a></li>
                        
                          <li><a title="res文件夹中的资源" href="15597050707116.html">res文件夹中的资源</a></li>
                        
                          <li><a title="内存泄漏" href="15638690144641.html">内存泄漏</a></li>
                        
                          <li><a title="动画" href="15591315255964.html">动画</a></li>
                        
                          <li><a title="反编译" href="15626395593984.html">反编译</a></li>
                        
                          <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
                        
                          <li><a title="异步消息处理线程" href="15744242463129.html">异步消息处理线程</a></li>
                        
                          <li><a title="推送机制" href="16012297259440.html">推送机制</a></li>
                        
                          <li><a title="画图" href="15627251763320.html">画图</a></li>
                        

                    
                      <li class="side-title"><span>安卓多媒体、图像</span></li>
                        
                          <li><a title="Android WebView和JavaScript的交互" href="15874899350106.html">Android WebView和JavaScript的交互</a></li>
                        
                          <li><a title="AudioManager" href="15960319990767.html">AudioManager</a></li>
                        
                          <li><a title="Bitmap类和BitmapDrawable类" href="15976898855375.html">Bitmap类和BitmapDrawable类</a></li>
                        
                          <li><a title="Canvas的clipXxx()方法" href="15977771825588.html">Canvas的clipXxx()方法</a></li>
                        
                          <li><a title="Canvas的坐标转换" href="15977752461748.html">Canvas的坐标转换</a></li>
                        
                          <li><a title="Canvas类和Paint类" href="15976921344218.html">Canvas类和Paint类</a></li>
                        
                          <li><a title="Point类和PointF类" href="15976663490288.html">Point类和PointF类</a></li>
                        
                          <li><a title="Rect类和RectF类" href="15976691326047.html">Rect类和RectF类</a></li>
                        
                          <li><a title="View的invalidate()方法" href="15977739560419.html">View的invalidate()方法</a></li>
                        
                          <li><a title="位图运算" href="15978627842395.html">位图运算</a></li>
                        
                          <li><a title="双缓存技术" href="15978446413433.html">双缓存技术</a></li>
                        
                          <li><a title="相机相关" href="15635278316611.html">相机相关</a></li>
                        
                          <li><a title="阴影和渐变" href="15978578322849.html">阴影和渐变</a></li>
                        
                          <li><a title="音视频相关" href="15635278413412.html">音视频相关</a></li>
                        

                    
                      <li class="side-title"><span>第三方库</span></li>
                        
                          <li><a title="ButterKnife" href="15632682824135.html">ButterKnife</a></li>
                        
                          <li><a title="EventBus" href="15632682766122.html">EventBus</a></li>
                        
                          <li><a title="Fresco" href="15632683056692.html">Fresco</a></li>
                        
                          <li><a title="Glide" href="15632682942973.html">Glide</a></li>
                        
                          <li><a title="GreenDao" href="15632683120036.html">GreenDao</a></li>
                        
                          <li><a title="Gson" href="15632684493835.html">Gson</a></li>
                        
                          <li><a title="LeakCanary" href="15632684640367.html">LeakCanary</a></li>
                        
                          <li><a title="OkHttp3" href="15632682616090.html">OkHttp3</a></li>
                        
                          <li><a title="Picasso" href="15632683006333.html">Picasso</a></li>
                        
                          <li><a title="Retrofit" href="15632682688049.html">Retrofit</a></li>
                        
                          <li><a title="RxJava" href="15632683277748.html">RxJava</a></li>
                        
                          <li><a title="SqlBright" href="15632683205618.html">SqlBright</a></li>
                        
                          <li><a title="Stetho" href="15632684758267.html">Stetho</a></li>
                        
                          <li><a title="二维码条形码库" href="15632683396317.html">二维码条形码库</a></li>
                        
                          <li><a title="推送" href="15632684365504.html">推送</a></li>
                        
                          <li><a title="支付" href="15632684444086.html">支付</a></li>
                        

                    
                      <li class="side-title"><span>Android系统相关</span></li>
                        
                          <li><a title="ANR以及解决方法以及捕获未捕获的异常" href="16002456845586.html">ANR以及解决方法以及捕获未捕获的异常</a></li>
                        
                          <li><a title="APK启动过程" href="16007836387351.html">APK启动过程</a></li>
                        
                          <li><a title="APK安装过程" href="15997078103768.html">APK安装过程</a></li>
                        
                          <li><a title="Android系统启动过程" href="15946404844407.html">Android系统启动过程</a></li>
                        
                          <li><a title="AsyncTask.java" href="15953888428518.html">AsyncTask.java</a></li>
                        
                          <li><a title="Binder" href="15982033025648.html">Binder</a></li>
                        
                          <li><a title="Context" href="15936928417691.html">Context</a></li>
                        
                          <li><a title="KeyEvent按键点击事件处理流程" href="15982890451497.html">KeyEvent按键点击事件处理流程</a></li>
                        
                          <li><a title="ListView设置Adapter和更新数据源码分析--观察者模式" href="15951954419377.html">ListView设置Adapter和更新数据源码分析--观察者模式</a></li>
                        
                          <li><a title="Manifest清单文件" href="15596519462062.html">Manifest清单文件</a></li>
                        
                          <li><a title="MotionEvent屏幕触摸事件分发流程" href="15983458791697.html">MotionEvent屏幕触摸事件分发流程</a></li>
                        
                          <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
                        
                          <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
                        
                          <li><a title="SystemServer.java" href="15948434761291.html">SystemServer.java</a></li>
                        
                          <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
                        
                          <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
                        
                          <li><a title="Window和WindowManager" href="15882183325715.html">Window和WindowManager</a></li>
                        
                          <li><a title="apk文件以及打包流程" href="16006415583476.html">apk文件以及打包流程</a></li>
                        
                          <li><a title="setContentView()" href="15954049156461.html">setContentView()</a></li>
                        
                          <li><a title="内存溢出和解决方法" href="16001927297660.html">内存溢出和解决方法</a></li>
                        

                    
                      <li class="side-title"><span>安卓源码</span></li>
                        
                          <li><a title="ComponentCallbacks和ComponentCallbacks2" href="15959378334016.html">ComponentCallbacks和ComponentCallbacks2</a></li>
                        
                          <li><a title="GestureDetector" href="15988119621841.html">GestureDetector</a></li>
                        
                          <li><a title="HandlerThread" href="16002981223383.html">HandlerThread</a></li>
                        
                          <li><a title="IntentService" href="16002980534244.html">IntentService</a></li>
                        
                          <li><a title="JNI调用机制" href="15719841747032.html">JNI调用机制</a></li>
                        
                          <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
                        
                          <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
                        
                          <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
                        
                          <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
                        
                          <li><a title="onUserInteraction()与onUserLeaveHint()" href="16003048093058.html">onUserInteraction()与onUserLeaveHint()</a></li>
                        
                          <li><a title="preloaded-classes" href="15717452568747.html">preloaded-classes</a></li>
                        
                          <li><a title="安卓源码目录结构分析" href="15713661513977.html">安卓源码目录结构分析</a></li>
                        

                    
                      <li class="side-title"><span>Framework</span></li>
                        
                          <li><a title="Android.mk文件" href="15773673300273.html">Android.mk文件</a></li>
                        
                          <li><a title="Android的编译环境--Build系统" href="15791618199796.html">Android的编译环境--Build系统</a></li>
                        
                          <li><a title="连接Android和Linux内核的桥梁——Android的Bionic" href="15796625335119.html">连接Android和Linux内核的桥梁——Android的Bionic</a></li>
                        

                    
                      <li class="side-title"><span>Android内核剖析</span></li>
                        
                          <li><a title="Binder" href="15747333089774.html">Binder</a></li>
                        
                          <li><a title="Framework概述" href="15747509659838.html">Framework概述</a></li>
                        
                          <li><a title="Framework的启动过程" href="15747331308712.html">Framework的启动过程</a></li>
                        

                    
                      <li class="side-title"><span>深入理解Android</span></li>
                        
                          <li><a title="2.Android的编译环境--Build系统" href="15825987090516.html">2.Android的编译环境--Build系统</a></li>
                        
                          <li><a title="3. 连接Android和Linux内核的桥梁--Android的Bionic" href="15826096876760.html">3. 连接Android和Linux内核的桥梁--Android的Bionic</a></li>
                        
                          <li><a title="深入理解Android输入系统" href="16006883092534.html">深入理解Android输入系统</a></li>
                        
                          <li><a title="深入理解PackageManagerService" href="16008487631075.html">深入理解PackageManagerService</a></li>
                        
                          <li><a title="深入理解Surface系统" href="16007635680752.html">深入理解Surface系统</a></li>
                        
                          <li><a title="深入理解WindowManagerService" href="16007630337829.html">深入理解WindowManagerService</a></li>
                        

                    
                      <li class="side-title"><span>Git</span></li>
                        
                          <li><a title="Git常见用法" href="15607376634694.html">Git常见用法</a></li>
                        
                          <li><a title="Git按照功能来分类" href="15718356444970.html">Git按照功能来分类</a></li>
                        
                          <li><a title="git概述" href="15720062741897.html">git概述</a></li>
                        

                    
                      <li class="side-title"><span>Java</span></li>
                        
                          <li><a title="Java小知识点" href="15777569350023.html">Java小知识点</a></li>
                        
                          <li><a title="Java的四种引用变量" href="15877076691357.html">Java的四种引用变量</a></li>
                        
                          <li><a title="MeasureSpec" href="15864726816307.html">MeasureSpec</a></li>
                        
                          <li><a title="杂记" href="15948431328032.html">杂记</a></li>
                        

                    
                      <li class="side-title"><span>设计模式</span></li>
                        
                          <li><a title="代理模式" href="15900263250197.html">代理模式</a></li>
                        
                          <li><a title="单例模式" href="15897847467736.html">单例模式</a></li>
                        
                          <li><a title="工厂方法模式" href="15897849469753.html">工厂方法模式</a></li>
                        
                          <li><a title="建造者模式" href="15897849590411.html">建造者模式</a></li>
                        
                          <li><a title="简单工厂模式" href="15897849322436.html">简单工厂模式</a></li>
                        
                          <li><a title="简单工厂模式(Simple Factory)" href="15784035954571.html">简单工厂模式(Simple Factory)</a></li>
                        
                          <li><a title="设计模式概述" href="15783889880973.html">设计模式概述</a></li>
                        

                    
                      <li class="side-title"><span>数据结构和算法</span></li>
                        
                          <li><a title="排序算法" href="15881272462871.html">排序算法</a></li>
                        
                          <li><a title="数据结构基础" href="15644690293137.html">数据结构基础</a></li>
                        
                          <li><a title="树" href="15881273285027.html">树</a></li>
                        
                          <li><a title="算法概述" href="15644655646063.html">算法概述</a></li>
                        
                          <li><a title="面试中的算法" href="15970860318982.html">面试中的算法</a></li>
                        

                    
                      <li class="side-title"><span>网络爬虫</span></li>
                        
                          <li><a title="爬虫--基本库的使用" href="15660531164999.html">爬虫--基本库的使用</a></li>
                        
                          <li><a title="爬虫概述" href="15660114926379.html">爬虫概述</a></li>
                        

                    
                      <li class="side-title"><span>计算机网络</span></li>
                        
                          <li><a title="HTTP和HTTPS" href="15850526868228.html">HTTP和HTTPS</a></li>
                        
                          <li><a title="TCP/IP" href="15852402680558.html">TCP/IP</a></li>
                        
                          <li><a title="ping命令" href="15832390905461.html">ping命令</a></li>
                        
                          <li><a title="与HTTP关系密切的协议:IP、TCP和DNS" href="15852895411848.html">与HTTP关系密切的协议:IP、TCP和DNS</a></li>
                        
                          <li><a title="图解HTTP--第一章--了解Web及网络基础" href="16023212652925.html">图解HTTP--第一章--了解Web及网络基础</a></li>
                        
                          <li><a title="图解HTTP--第七章--确保web安全的https" href="15855763389947.html">图解HTTP--第七章--确保web安全的https</a></li>
                        
                          <li><a title="图解HTTP--第三章--HTTP报文内的HTTP信息" href="15853911594446.html">图解HTTP--第三章--HTTP报文内的HTTP信息</a></li>
                        
                          <li><a title="图解HTTP--第九章--基于http的功能追加协议" href="15855764881285.html">图解HTTP--第九章--基于http的功能追加协议</a></li>
                        
                          <li><a title="图解HTTP--第二章--简单的HTTP协议" href="15853261274339.html">图解HTTP--第二章--简单的HTTP协议</a></li>
                        
                          <li><a title="图解HTTP--第五章--与HTTP协作的Web服务器" href="15855728450260.html">图解HTTP--第五章--与HTTP协作的Web服务器</a></li>
                        
                          <li><a title="图解HTTP--第八章--确认访问用户身份的认证" href="15855764130446.html">图解HTTP--第八章--确认访问用户身份的认证</a></li>
                        
                          <li><a title="图解HTTP--第六章--http首部" href="15855761102550.html">图解HTTP--第六章--http首部</a></li>
                        
                          <li><a title="图解HTTP--第四章--返回结果的http状态码" href="15855701437164.html">图解HTTP--第四章--返回结果的http状态码</a></li>
                        
                          <li><a title="基础" href="15650980568729.html">基础</a></li>
                        
                          <li><a title="计算机网络第五版--第一章" href="15846863033375.html">计算机网络第五版--第一章</a></li>
                        
                          <li><a title="计算机网络第五版--第二章" href="15849271154228.html">计算机网络第五版--第二章</a></li>
                        

                    
                      <li class="side-title"><span>计算机基础</span></li>
                        
                          <li><a title="HTTP基本原理" href="15659232055748.html">HTTP基本原理</a></li>
                        
                          <li><a title="Java语言中注意事项" href="15906748975501.html">Java语言中注意事项</a></li>
                        
                          <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
                        
                          <li><a title="术语" href="15831479672487.html">术语</a></li>
                        
                          <li><a title="简单常识" href="15955796448880.html">简单常识</a></li>
                        

                    
                      <li class="side-title"><span>Linux系统</span></li>
                        
                          <li><a title="基础简述" href="15719238641803.html">基础简述</a></li>
                        

                    
                      <li class="side-title"><span>React-Native</span></li>
                        
                          <li><a title="React-Native零碎" href="15616187358724.html">React-Native零碎</a></li>
                        
                          <li><a title="ScrollView组件" href="15622306484069.html">ScrollView组件</a></li>
                        
                          <li><a title="TextInput组件" href="15621338635960.html">TextInput组件</a></li>
                        
                          <li><a title="react-navigation" href="15584071613702.html">react-navigation</a></li>
                        
                          <li><a title="组件" href="15617091937336.html">组件</a></li>
                        
                          <li><a title="组件的生命周期" href="15621446974979.html">组件的生命周期</a></li>
                        
                          <li><a title="遇到的问题" href="15620469922995.html">遇到的问题</a></li>
                        

                    
                      <li class="side-title"><span>随想</span></li>
                        
                          <li><a title="for" href="15583472660662.html">for</a></li>
                        
                          <li><a title="to be a free man" href="15605804886383.html">to be a free man</a></li>
                        
                          <li><a title="需要后续查看的东西" href="15893692089911.html">需要后续查看的东西</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>Service--服务</h1>

<ul>
<li>
<a href="#toc_0">服务的种类</a>
<ul>
<li>
<a href="#toc_1">按运行地点分类</a>
</li>
<li>
<a href="#toc_2">按运行类型分类</a>
</li>
<li>
<a href="#toc_3">按使用方式分类</a>
</li>
</ul>
</li>
<li>
<a href="#toc_4">服务的基本用法</a>
</li>
<li>
<a href="#toc_5">服务的生命周期</a>
<ul>
<li>
<a href="#toc_6">使用startService()与stopService()方法</a>
</li>
<li>
<a href="#toc_7">使用bindService()与unbindService()方法</a>
</li>
<li>
<a href="#toc_8">混合使用以上两种方法</a>
</li>
<li>
<a href="#toc_9">服务的使用情况</a>
</li>
</ul>
</li>
<li>
<a href="#toc_10">服务的更多技巧</a>
<ul>
<li>
<a href="#toc_11">前台服务</a>
</li>
<li>
<a href="#toc_12">IntentService</a>
</li>
</ul>
</li>
<li>
<a href="#toc_13">Service的启动流程</a>
<ul>
<li>
<a href="#toc_14">使用startService()启动</a>
<ul>
<li>
<a href="#toc_15">sendServiceArgsLocked()</a>
</li>
<li>
<a href="#toc_16">realStartServiceLocked()</a>
</li>
<li>
<a href="#toc_17">startProcessLocked()</a>
</li>
<li>
<a href="#toc_18">bringDownServiceLocked()</a>
</li>
</ul>
</li>
<li>
<a href="#toc_19">使用bindService()启动</a>
</li>
</ul>
</li>
<li>
<a href="#toc_20">使用服务的一些问题</a>
</li>
</ul>


<p><em><font color=red>参考Android 8.0 源码</font></em></p>

<p>&emsp;&emsp;<strong>Service和Activity一样都是Context的子类，只不过Service没有UI界面，是在后台运行的组件。</strong><br/>
&emsp;&emsp;<strong>服务（Service）是Android中实现程序后台运行的解决方案，它非常适合去执行那些不需要和用户交互而且还要求长期运行的任务。服务的运行不依赖任何用户界面，即使程序被切换到后台，或者用户打开了另外一个应用程序 ，服务仍然能够保持正常运行。</strong><br/>
&emsp;&emsp;<strong>服务并不是运行在一个独立的进程当中，而是依赖于创建服务时所在的应用程序进程（除非我们在AndroidManifest.xml清单文件中为Service设置进程）。当某个应用程序进程被杀掉时，所有依赖于该进程的服务也会停止运行。</strong><br/>
&emsp;&emsp;<strong>服务并不会自动开启线程，所有的代码都是默认运行在主线程中的。也就是说，如果我们要做耗时操作，需要在服务的内部手动创建子线程，来实现具体的业务逻辑，否则就有可能出现主线程被阻塞住的情况。</strong></p>

<h2 id="toc_0">服务的种类</h2>

<h3 id="toc_1">按运行地点分类</h3>

<table>
<thead>
<tr>
<th>类别</th>
<th>区别</th>
<th>优点</th>
<th>缺点</th>
<th>应用</th>
</tr>
</thead>

<tbody>
<tr>
<td>本地服务（Local Service）</td>
<td>该服务依附在主进程上</td>
<td>服务依附在主进程上而不是福利的进程，这样在一定程度上节约了资源，另外，Local Service因为是在同一进程，因此不需要IPC，也不需要AIDL。相比bindService()方法会方便很多</td>
<td>主进程被kill掉以后，服务就会终止</td>
<td>如：音乐播放器播放等不需要常驻的服务</td>
</tr>
<tr>
<td>远程服务(Remote Service)</td>
<td>该服务是独立的进程</td>
<td>服务为独立的进程，对应进程名格式为所在包名加上在AndroidManifest.xml文件中指定的android:process属性的值。由于是独立进程，因此在Activity所在进程被kill掉以后，该服务依然在运行，不受其他进程影响，有利于为多个进程提供服务，具有较高的灵活性</td>
<td>该服务是独立的进程，会占用一定的资源，并且使用AIDL进行IPC稍微麻烦一点</td>
<td>如：一些提供系统服务的Service，这种Service是常驻的</td>
</tr>
</tbody>
</table>

<h3 id="toc_2">按运行类型分类</h3>

<table>
<thead>
<tr>
<th>类别</th>
<th>区别</th>
<th>应用</th>
</tr>
</thead>

<tbody>
<tr>
<td>前台服务</td>
<td>会在通知栏显示onGoing的Notification</td>
<td>当服务被终止的时候，通知一栏的Notification也会消失，这样对于用户有一定的通知作用。常见的如音乐播放服务</td>
</tr>
<tr>
<td>后台服务</td>
<td>默认的服务即为后台服务，即不会在通知一栏显示onGoing的Notification</td>
<td>当服务被终止的时候，用户是看不到效果的。某些不需要运行或终止提示的服务，如天气更新、日期同步、邮件同步等服务</td>
</tr>
</tbody>
</table>

<h3 id="toc_3">按使用方式分类</h3>

<table>
<thead>
<tr>
<th>类别</th>
<th>区别</th>
</tr>
</thead>

<tbody>
<tr>
<td>startService()方法启动的服务</td>
<td>主要用于启动一个服务执行后台任务，不进行通信。停止服务使用stopService()方法</td>
</tr>
<tr>
<td>bingService()方法启动的服务</td>
<td>使用该方法启动的服务要进行通信。停止服务使用unbindService()方法</td>
</tr>
<tr>
<td>同时使用startService()和bindService()启动的服务</td>
<td>停止服务需要同时使用stopService()和unbindService()方法</td>
</tr>
</tbody>
</table>

<h2 id="toc_4">服务的基本用法</h2>

<p>&emsp;&emsp;简单的Service实现，代码如下:</p>

<pre class="line-numbers"><code class="language-java">public class MyService extends Service {

    public MyService() {

    }

    @Override
    public void onCreate() {
        super.onCreate();
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        return super.onStartCommand(intent, flags, startId);
    }

    @Override
    public IBinder onBind(Intent intent) {
        // TODO: Return the communication channel to the service.
        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);
    }
    
    @Override
    public boolean onUnbind(Intent intent) {
        return super.onUnbind(intent);
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
    }

}
</code></pre>

<p>&emsp;&emsp;首先需要知道调起Service的方式有两种，一种是使用startService()方法，另一种是使用bindService()方法，这两种方法分别会执行不同的生命周期。</p>

<ul>
<li><p>使用startService()方法：<br/>
&emsp;&emsp;使用这个方法的Service生命周期是onCreate()--&gt;onStartCommand()--&gt;onDestroy();</p></li>
<li><p>使用bindService()方法：<br/>
&emsp;&emsp;使用这个方法的Service生命周期是onCreate()--&gt;onBind()--&gt;onUnind()--&gt;onDestroy();</p></li>
</ul>

<p>&emsp;&emsp;onCreate()方法会在服务创建的时候调用，onStartCommand()方法会在每次服务启动的时候调用，onDestroy()方法会在服务销毁的时候调用。onCreate()方法是在服务第一次创建的时候调用的，而onStartCommand()方法则在每次启动服务的时候都会调用。<br/>
&emsp;&emsp;通常情况下，如果我们希望服务一旦启动就立刻去执行某个动作，就可以讲逻辑写在onStartCommand()方法里。而当服务销毁时，我们应该在onDestroy()方法中去回收那些不再使用的资源。另外，每一个服务都需要在AndroidManifest.xml文件中进行注册才能生效。</p>

<h2 id="toc_5">服务的生命周期</h2>

<p><img src="../asset/img/service%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE.png" alt=""/></p>

<p>&emsp;&emsp;一旦在项目的任何位置调用了Context的startService()方法，相应的服务就会启动起来，并回调onStartCommand()方法。如果这个服务之前还没有创建过，onCreate()方法会先于onStartCommand()方法执行。如果这个服务已经起来了，就不会调用onCreate()方法。服务启动了之后会一直保持运行状态，直到stopService()或stopSelf()方法被调用。注意，虽然每调用一次startService()方法，onStartCommand()就会执行一次，但实际上每个服务都只会存在一个实例。所以不管你调用了多少次startService()方法，只需要调用一次stopService()或stopSelf()方法，服务就会停止下来了。</p>

<p>&emsp;&emsp;另外，还可以调用Context的bindService()来获取一个服务的持久连接，这时就会回调服务中的onBind()方法。类似地，如果这个服务之前还没有创建过，onCreate()方法会先于onBind()方法执行。如果这个服务已经起来了，就不会调用onCreate()方法。之后，调用方可以获取到onBind()方法里返回的IBinder对象的实例，这样就能自由和服务进行通信了。在我们的实现中，必须提供一个返回一个IBinde，让客户端能够使用IBinder与Service进行通讯。如果不需要绑定，只需要返回null就可以了。只要调用方可以获取到onBind()方法里返回的IBinder对象的实例，这样就能自由地和服务进行通信了。只要调用方和服务之间的连接没有断开，服务就会一直保持运行状态。当想要解除与Service的绑定时，调用unbindService()方法。一旦调用了unbindService()方法，下次再调用该方法就会抛出异常报错。</p>

<p>&emsp;&emsp;当调用了startService()方法后，又去调用stopService()方法，这时服务中的onDestroy()方法就会执行，表示服务已经销毁了。类似地，当调用了bindService()方法后，又去调用unbindService()方法，onDestroy()方法也会执行，这两种情况都很好理解。但是需要注意的是，我们完全有可能对一个服务既调用了startService()方法，又调用了bindService()方法的，根据Android系统的机制，一个服务只要被启动或者被绑定了之后，就会一直处于运行状态，必须要让以上两种条件同时不满足，服务才能被销毁。所以，这种情况下要同时调用stopService()和unbindService()方法，onDestroy()方法才会执行。</p>

<h3 id="toc_6">使用startService()与stopService()方法</h3>

<p><strong>&emsp;&emsp;生命周期顺序：onCreate()--&gt;onStartCommand()--&gt;onDestroy()</strong><br/>
&emsp;&emsp;如果一个Service在某个Activity中被调用Context.startService()方法启动，那么不管是否有Activity使用bindService()方法绑定或者使用unbindService()方法解除绑定到该Service，那么该Service都会在后台运行，知道被调用stopService()或者调用自身的stopSelf()方法。当然，如果系统资源不足，Android系统也可能结束该服务。还有另外一种方法可以关闭该服务，就是在Android系统设置中，通过应用--&gt;我们的应用--&gt;停止该服务。</p>

<p>&emsp;&emsp;注意事项：<br/>
1 . 第一次startService()会触发onCreate()和onStartCommand()方法，以后在服务运行过程中，每次startService()都只会触发onStartCommand()方法；<br/>
2 . 不论调用startService()方法多少次，使用stopService()或者stopSelf()一次，就会停止该服务；</p>

<h3 id="toc_7">使用bindService()与unbindService()方法</h3>

<p><strong>&emsp;&emsp;生命周期顺序：onCreate()--&gt;onBind()--&gt;onUnbind()--&gt;onDestroy()</strong><br/>
&emsp;&emsp;如果一个Service在某个Activity中被调用bindService()方法启动，不论bindService()方法被调用几次，Service的onCreate()方法只会执行一次，同时onStartCommand()方法始终都不会被调用。<br/>
&emsp;&emsp;当建立连接以后，Service会一直运行，除非调用unbindService()方法来解除绑定断开链接。或者调用该Service的Context不存在了（如Activity被finish()掉了--即通过bindService()方法启动的Service的生命周期依附于启动它的Context），系统在这时会自动停止该Service。</p>

<p>&emsp;&emsp;注意事项：<br/>
1 . 第一次调用bindService()方法会触发onCreate()和onBind()方法，以后在服务运行过程中，每次调用bindService()方法都不会触发任何回调；</p>

<h3 id="toc_8">混合使用以上两种方法</h3>

<p>&emsp;&emsp;当一个Service被使用startService()方法启动，同时又使用bindService()方法绑定，该Service会一直在后台运行，并且不管调用几次，onCreate()方法始终只会调用一次，onStartCommand()的调用次数与startService()调用的次数一致（使用bindService()方法不会调用onStartCommand()方法）。需要使用unbindService()和stopService()/stopSelf()方法才会停止服务。</p>

<h3 id="toc_9">服务的使用情况</h3>

<p>1 . 如果你只是想要启动一个后台服务长期进行某项任务的执行，那么使用startService()方法即可；<br/>
2 . 如果你是想要与正在运行的Service取得联系进行通讯，那么有两种方法：一种是使用BroadcastRecevier，另外一种是使用bindService()方法。BroadcastRecevier本身执行代码的时间是很短的（也许执行到一半，后面的代码就不会执行了），使用bindService()方法则不会有这种情况，因此我们使用bindService()方法。在这个时候，<br/>
3 . 如果你的服务只是公开一个远程接口，使连接上的客户端远程调用执行方法，那么这个时候你可以不让服务一开始就运行，而只是使用bindService()方法，这样在第一次bindService()的时候才会创建服务的实例运行它，这回节约很多系统资源，特别是如果你的服务是Remote Service，那么该效果会越明显（当然，在Service创建的时候会花去一定时间）。</p>

<h2 id="toc_10">服务的更多技巧</h2>

<h3 id="toc_11">前台服务</h3>

<p>&emsp;&emsp;服务几乎都是在后台运行的，一直以来都是默默地做着辛苦的工作。但是服务的系统优先级还是比较低的，当系统出现内存不足的情况时，就有可能会回收掉正在后台运行的服务。如果你希望服务可以一直保持运行状态，而不会由于系统内存不足的原因导致被回收，就可以考虑使用前台服务。前台服务和普通服务最大的区别在于，它会一直有一个正在运行的图标在系统的状态栏显示，下拉状态栏可以看到更加详细的信息，非常类似于通知的效果当然有时候你也可能不仅仅是为了防止服务被回收掉才使用前台服务的。有些项目由于特殊的需求会要求必须使用前台服务，比如说天气预报应用，它的服务在后台更新天气数据的同时，还会在系统状态栏一直显示当前的天气信息。</p>

<pre class="line-numbers"><code class="language-java">public class ForegroundService2 extends Service {

    private final String TAG = ForegroundService2.class.getSimpleName();

    public ForegroundService2() {

    }

    @Override
    public void onCreate() {
        super.onCreate();
        Log.e(TAG, &quot;onCreate...&quot;);
        Intent intent = new Intent(this, ServiceActivity.class);
        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);
        Notification notification = new NotificationCompat.Builder(this)
                .setContentTitle(&quot;this is content title&quot;)
                .setContentText(&quot;this is content text&quot;)
                .setWhen(System.currentTimeMillis())
                .setSmallIcon(R.mipmap.ic_launcher)
                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher))
                .setContentIntent(pendingIntent)
                .build();
        startForeground(1, notification);
    }

    @Override
    public IBinder onBind(Intent intent) {
        // TODO: Return the communication channel to the service.
        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);
    }

}
</code></pre>

<h3 id="toc_12">IntentService</h3>

<p>&emsp;&emsp;服务中的代码都是默认运行在主线程中的，如果直接在服务里去处理一些耗时的业务，就很容易出现ANR的情况。所以，我们应该在服务里开启一个子线程，然后在那里去处理耗时的逻辑。可是这种服务一旦启动起来，就会一直处于运行状态，必须调用stopService()或者stopSelf()方法才能让服务停止下来。代码如下：</p>

<pre class="line-numbers"><code class="language-java">public class MyService extends Service {
    
    //·····

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        Log.e(TAG,&quot;onStartCommand...&quot;);
        new Thread(new Runnable() {
            @Override
            public void run() {
                //在这里处理具体的业务逻辑;
            }
        }).start();
        return super.onStartCommand(intent, flags, startId);
    }
    
    //····
    
}
</code></pre>

<p>&emsp;&emsp;Android专门提供一个IntentService类，这个类就很好地解决了前面所提到的问题，做到了集开启线程和自动停止于一身。</p>

<h2 id="toc_13">Service的启动流程</h2>

<p>&emsp;&emsp;Service是通过AMS(ActivityManagerService)去管理创建流程的。</p>

<h3 id="toc_14">使用startService()启动</h3>

<p>&emsp;&emsp;一个应用进程通过startService()调用AMS，然后AMS再判断这个Service是否已经启动，若未启动则通知应用去启动Service，若已经启动则直接通知客户端回调onStartCommand()方法。</p>

<p>&emsp;&emsp;启动流程图如下：</p>

<p><img src="../asset/img/service%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E5%9B%BE1.png" alt=""/></p>

<p>&emsp;&emsp;启动流程的代码顺序如下：</p>

<pre class="line-numbers"><code class="language-java">Context.java类中：
    startService(Intent service);
(说明：Context.java是一个抽象类，其实现类是ContextImpl.java)
    
ContextImpl.java类中：
    startService(Intent service);
    startServiceCommon(Intent service,boolean requireForeground,UserHandle user);    
    ActivityManager.getService().startService();
(说明：ActivityManager.getService()得到的是IActivityManager对象，IActivityManager是一个aidl文件，ActivityManagerService继承了IActivityManager.Stub，所以ActivityManager.getService().startService()是在ActivityManagerService类中实现的。)    

ActivityManagerService.java类中：
    startService(IApplicationThread caller, Intent service,String resolvedType, boolean requireForeground, String callingPackage, int userId);
            
ActiveServices.java类中：
    startServiceLocked(IApplicationThread caller, Intent service, String resolvedType,int callingPid, int callingUid, boolean fgRequired, String callingPackage, final int userId);
    startServiceInnerLocked();
    bringUpServiceLocked();
</code></pre>

<p>&emsp;&emsp;我们侧重看一下startServiceLocked()和bringUpServiceLocked()方法：</p>

<pre class="line-numbers"><code class="language-java">ComponentName startServiceLocked(IApplicationThread caller, Intent service, String resolvedType,int callingPid, int callingUid,boolean fgRequired, String callingPackage, final int userId)throws TransactionTooLargeException {
    //---;
    //根据Intent获取ServiceRecord对象。每个Service在AMS中都要对应有一个ServiceRecord;
    ServiceLookupResult res = retrieveServiceLocked(service,resolvedType,callingPackage,callingPid,callingUid,userId,true,callerFg,false);
    
    ServiceRecord r = res.record;
    
    r.pendingStarts.add(new ServiceRecord.StartItem(r,false,r.makeNextStartId(),service,neededGrants,callingUid));
    
    return startServiceInnerLocked(smap, service, r, callerFg, addToStarting);
}
</code></pre>

<pre class="line-numbers"><code class="language-java">private String bringUpServiceLocked(ServiceRecord r, int intentFlags, boolean execInFg,boolean whileRestarting, boolean permissionsReviewRequired)throws TransactionTooLargeException {
    //r.app就是表示Service所在的进程，真正启动Service时会给它赋值。如果Service已经启动的话，这个进程非空，且已经就绪。如果该Service已经启动则直接调用Service的onStartCommand()方法;
    if(r.app != null &amp;&amp; r.app.thread != null){
        //调用Service的onStartCommand()方法；
        sendServiceArgsLocked(r,execInFg,false);
        return null;
    }
    
    //找到Service对应的进程记录;
    ProcessRecord app;
    app = mAm.getProcessRecordLocked(proxName,r.appInfo.uid,false);
    if(app != null &amp;&amp; app.thread != null){
        //进程就绪才真正去启动Service;创建Service；
        realStartServiceLocked(r,app,execInFg);
        return null;
    }
    
    if(app == null &amp;&amp; !permissionReviewRequired){
        //开启新的进程；
        if ((app=mAm.startProcessLocked(procName, r.appInfo, true, intentFlags,hostingType, r.name, false, isolated, false)) == null{
            //进程创建失败后做的清除操作，如解绑Service，停止Service；
            bringDownServiceLocked(r);    
            return msg;
        }
    }
    if(!mPendingServices.contains(r)){
        //记录，进程启动就绪后会再去启动Service;
        mPendingServices.add(r);
    }
}
</code></pre>

<p>&emsp;&emsp;AMS是通过其持有Service对应的ServiceRecord来判断Service是否已启动，同时进程是通过类似的ProcessRecord来判断是否已启动。</p>

<p>&emsp;&emsp;在bringUpServiceLocked()方法中有四个方法非常重要，如下：<br/>
1 . sendServiceArgsLocked():会调用Service的onStartCommand()方法，当Service已经存在时则直接调用onStartCommand()，不再重新创建Service；<br/>
2 . realStartServiceLocked():创建一个Service；<br/>
3 . startProcessLocked():开启一个新的进程；<br/>
4 . bringDownServiceLocked():主要是做解绑Service，停止Service的操作；</p>

<h4 id="toc_15">sendServiceArgsLocked()</h4>

<p>&emsp;&emsp;我们开始分析sendServiceArgsLocked（）方法：</p>

<pre class="line-numbers"><code class="language-java">private final void sendServiceArgsLocked(ServiceRecord r, boolean execInFg,boolean oomAdjusted) throws TransactionTooLargeException {
    //当使用bindService（）启动时，N == 0，所以bindService()不会调用onStartCommand()方法;
    final int N = r.pendingStarts.size();
    if (N == 0) {
        return;
    }
    
    try{
        r.app.thread.scheduleServiceArgs(r, slice);
    }
}
</code></pre>

<p>&emsp;&emsp;r.app.thread.scheduleServiceArgs(r,slice)这个方法中，r是ServiceRecord对象，r.app是ProcessRecord对象，r.app.thread是IApplicationThread对象。IApplicationThread是一个aidl文件，由ActivityThread.java类中的内部类ApplicationThread继承实现，所以这一行代码最终是在ApplicationThread类中来执行的。</p>

<pre class="line-numbers"><code class="language-java">public final void scheduleServiceArgs(IBinder token, ParceledListSlice args) {
    //---;
    sendMessage(H.SERVICE_ARGS, s);
}
</code></pre>

<pre class="line-numbers"><code class="language-java">private void handleServiceArgs(ServiceArgsData data) {
    Service s = mServices.get(data.token);
    //---;
    int res;
    res = s.onStartCommand(data.args, data.flags, data.startId);
}
</code></pre>

<p>&emsp;&emsp;在handleServiceArgs（）方法中，s是Service，可以看到，在这个方法中，系统调用了Service的onStartCommand()方法。</p>

<h4 id="toc_16">realStartServiceLocked()</h4>

<p>&emsp;&emsp;我们开始分析realStartServiceLocked（）方法：</p>

<pre class="line-numbers"><code class="language-java">private final void realStartServiceLocked(ServiceRecord r,ProcessRecord app, boolean execInFg) throws RemoteException {
    try{
        app.thread.scheduleCreateService(r,r.serviceInfo,mAm.conpatibilityInfoForPackageLocked(r.serviceInfo.applicationInfo),app.repProcState);
        r.postNotification();
        created = true;
    }catch(DeadObjectException e){
        //---;
    }finally{
        if(!created){
            final boolean inDestroying = mDestroyingServices.contains(r);
            serviceDoneExecutingLocked(r,inDestroying,inDestroying);
            if(newService){
                app.services.remove(r);
                r.app = null;
            }
            if(!inDestroying){
                scheduleServiceRestartLocked(r,false);
            }
        }
    }
    
    //调用Service的onBind()方法;
    requestServiceBindingLocked(r,execInFg);
    
    sendServiceArgsLocked(r,execInFg,true);
    
}
</code></pre>

<p>&emsp;&emsp;首先调用了ApplicationThread的scheduleCreateService()方法，<br/>
scheduleCreateService（）方法中通过系统Handler来调用ActivityThread的handleCreateService()方法。</p>

<pre class="line-numbers"><code class="language-java">private void handleCreateService(CreateServiceData data) {
    //---;
    try{
        //拿到ClassLoader;
        java.lang.ClassLoader cl = packageInfo.getClassLoader();
        //通过反射创建Service；
        service = (Service)cl.loadClass(data.info.name).newInstance();
    }
    
    try{
        //创建一个Service对应的ContextImpl;
        ContextImpl context = ContextImpl.createAppContext(this,packageInfo);
        context.setOuterContext(service);
        Application app = packageInfo.makeApplication(false,mInstrumentation);
        service.attach(context,this,data.info.name,data.token,app,ActivityManager.getService());
        //调用Service的onCreate()方法;
        service.onCreate();
    }
}
</code></pre>

<h4 id="toc_17">startProcessLocked()</h4>

<h4 id="toc_18">bringDownServiceLocked()</h4>

<p>&emsp;&emsp;我们开始分析bringDownServiceLocked（）方法：</p>

<pre class="line-numbers"><code class="language-java">private final void bringDownServiceLocked(ServiceRecord r) {
    for (int conni=r.connections.size()-1; conni&gt;=0; conni--) {
        ArrayList&lt;ConnectionRecord&gt; c = r.connections.valueAt(conni);
        for (int i=0; i&lt;c.size(); i++) {
            ConnectionRecord cr = c.get(i);
            //仍然存在与正在关闭的服务的连接，把它标记为已死;
            cr.serviceDead = true;
            try {
                cr.conn.connected(r.name, null, true);
            } catch (Exception e) {
                            
            }
        }
    }
    //与Service解除绑定；
    if (r.app != null &amp;&amp; r.app.thread != null) {
        for (int i=r.bindings.size()-1; i&gt;=0; i--) {
            IntentBindRecord ibr = r.bindings.valueAt(i);
            if (ibr.hasBound) {
                try {
                    //调用Service的onUnbind()方法；
                    r.app.thread.scheduleUnbindService(r,
                            ibr.intent.getIntent());
                } catch (Exception e) {
                    serviceProcessGoneLocked(r);
                }
            }
        }
    }
    //检查Service是否在前台运行；
    if (r.fgRequired) {
        r.fgRequired = false;
        r.fgWaiting = false;
        mAm.mHandler.removeMessages(
                ActivityManagerService.SERVICE_FOREGROUND_TIMEOUT_MSG, r);
        if (r.app != null) {
            Message msg = mAm.mHandler.obtainMessage(
                    ActivityManagerService.SERVICE_FOREGROUND_CRASH_MSG);
            msg.obj = r.app;
            mAm.mHandler.sendMessage(msg);
        }
    }
    
    //当通过bringUpServiceLocked()调用此方法时，则表示找不到该服务；
    if (found != null &amp;&amp; found != r) {
        smap.mServicesByName.put(r.name, found);
        throw new IllegalStateException(&quot;Bringing down &quot; + r + &quot; but actually running &quot;
                + found);
    }
    
    //开始清除Service的相关信息；
    cancelForegroundNotificationLocked(r);
    if(r.isForeground){
        decActiveForegroundAppLocked(smap,r);
    }
    r.isForeground = false;
    r.foregroundId = 0;
    r.foregroundNoti = null;
    r.clearDeliveredStartsLocked();
    r.pendingStarts.clear();
    if (r.app != null) {
        synchronized (r.stats.getBatteryStats()) {
            r.stats.stopLaunchedLocked();
        }
        r.app.services.remove(r);
        if (r.whitelistManager) {
            updateWhitelistManagerLocked(r.app);
        }
        if (r.app.thread != null) {
            updateServiceForegroundLocked(r.app, false);
            try {
                bumpServiceExecutingLocked(r, false, &quot;destroy&quot;);
                mDestroyingServices.add(r);
                r.destroying = true;
                mAm.updateOomAdjLocked(r.app, true);
                //销毁Service并调用Service的onDestroy()方法;
                r.app.thread.scheduleStopService(r);
            } catch (Exception e) {
                serviceProcessGoneLocked(r);
            }
        } else {
            //---；
        }
    } else {
        //---；
    }
    
    //后面就是将一些信息置为null，方便回收；
    if (r.bindings.size() &gt; 0) {
        r.bindings.clear();
    }
    if (r.restarter instanceof ServiceRestarter) {
       ((ServiceRestarter)r.restarter).setService(null);
    }
    int memFactor = mAm.mProcessStats.getMemFactorLocked();
    long now = SystemClock.uptimeMillis();
    if (r.tracker != null) {
        r.tracker.setStarted(false, memFactor, now);
        r.tracker.setBound(false, memFactor, now);
        if (r.executeNesting == 0) {
            r.tracker.clearCurrentOwner(r, false);
            r.tracker = null;
        }
    }
    smap.ensureNotStartingBackgroundLocked(r);
}
</code></pre>

<p>&emsp;&emsp;从上面代码可以看出，bringDownServiceLocked()方法主要就是销毁和解绑Service。</p>

<h3 id="toc_19">使用bindService()启动</h3>

<p>&emsp;&emsp;启动流程的代码顺序如下：</p>

<pre class="line-numbers"><code class="language-java">Context.java类中：
    bindService(@RequiresPermission Intent service,@NonNull ServiceConnection conn, @BindServiceFlags int flags)
        
ContextImpl.java类中：
    bindService(Intent service, ServiceConnection conn,int flags)
    bindServiceCommon(service,conn,flags,mMainThread.getHandler(),
Process.myUserHandle())

ActivityManagerService.java类中：
    bindService(IApplicationThread caller, IBinder token, Intent service,String resolvedType, IServiceConnection connection, int flags, String callingPackage,int userId))
    
ActiveServices.java类中：
    bindServiceLocked(IApplicationThread caller, IBinder token, Intent service,String resolvedType, final IServiceConnection connection, int flags,String callingPackage, final int userId)

</code></pre>

<pre class="line-numbers"><code class="language-java">private boolean bindServiceCommon(Intent service, ServiceConnection conn, int flags, Handler handler, UserHandle user) {
    IServiceConnection sd;
    
    if (mPackageInfo != null) {
        sd = mPackageInfo.getServiceDispatcher(conn, getOuterContext(), handler, flags);
    } else {
        throw new RuntimeException(&quot;Not supported in system context&quot;);
    }
    
    validateServiceIntent(service);
    try {
        //调用AMS的bindService()方法;
        int res = ActivityManager.getService().bindService(
mMainThread.getApplicationThread(), getActivityToken(), service,service.resolveTypeIfNeeded(getContentResolver()),sd, flags, getOpPackageName(), user.getIdentifier());
    }
    
}
</code></pre>

<p>&emsp;&emsp;bindServiceCommon()方法中, mPackageInfo.getServiceDispatcher()方法获取的是LoadedApk.ServiceDispatcher对象的内部类InnerConnection对象。之所以不能直接使用ServiceConnection对象，是因为服务的绑定有可能是跨进程的，因此ServiceConnection必须借助于Binder才能让远程服务端回调自己的方法，而ServiceDispatcher的内部类InnerConnection刚好充当起Binder这个角色。在获取到InnerConnection对象以后，就调用AMS的bindService()方法。然后便是再次跳转到ActiveServices.java类中的bindServiceLocked()方法。</p>

<pre class="line-numbers"><code class="language-java">int bindServiceLocked(IApplicationThread caller, IBinder token, Intent service,String resolvedType, final IServiceConnection connection, int flags,String callingPackage, final int userId) throws TransactionTooLargeException {
    //---;
    //判断是否进行权限检查;
    if (mAm.mPermissionReviewRequired) {
        if (mAm.getPackageManagerInternalLocked().isPermissionsReviewRequired(s.packageName, s.userId)) {
        RemoteCallback callback = new RemoteCallback(new RemoteCallback.OnResultListener() {
            @Override
            public void onResult(Bundle result) {
                synchronized(mAm) {
                    final long identity= Binder.clearCallingIdentity();
                    try {
                        if(!mPendingServices.contains(serviceRecord)) {
                            return;
                        }
                        if (!mAm.getPackageManagerInternalLocked()
                                .isPermissionsReviewRequired(serviceRecord.packageName,serviceRecord.userId)) {
                            try {
                                //创建Service;
                                bringUpServiceLocked(serviceRecord,
                                        serviceIntent.getFlags(),
                                        callerFg, false, false);
                            } catch (RemoteException e) {
                            
                            }
                        } else {
                            unbindServiceLocked(connection);
                        }
                    } finally {
                        Binder.restoreCallingIdentity(identity);
                    }
                }
            }
            });
        }
    }
    
    final long origId = Binder.clearCallingIdentity();
    try{
        if ((flags&amp;Context.BIND_AUTO_CREATE) != 0) {
            s.lastActivity = SystemClock.uptimeMillis();
            if (bringUpServiceLocked(s, service.getFlags(), callerFg, false,permissionsReviewRequired) != null) {
                return 0;
            }
        }
        
        if(s.app != null &amp;&amp; b.intent.received){
            //如果Service已经在运行，直接调用ServiceConnection中的onServiceConnected()方法;
            try {
                c.conn.connected(s.name, b.intent.binder, false);
            } catch (Exception e) {
            
            }
            if (b.intent.apps.size() == 1 &amp;&amp; b.intent.doRebind) {
                requestServiceBindingLocked(s, b.intent, callerFg, true);
            }
        }
    }
}
</code></pre>

<p>&emsp;&emsp;从上面代码中，可以知道bindServiceLocked()方法最终都是调用了bringUpServiceLocked()方法。下面讲解requestServiceBindingLocked（）方法。</p>

<pre class="line-numbers"><code class="language-java">private final void requestServiceBindingsLocked(ServiceRecord r, boolean execInFg) throws TransactionTooLargeException {
    for (int i=r.bindings.size()-1; i&gt;=0; i--) {
        IntentBindRecord ibr = r.bindings.valueAt(i);
        if (!requestServiceBindingLocked(r, ibr, execInFg, false)) {
            break;
        }
    }
}
</code></pre>

<pre class="line-numbers"><code class="language-java">private final boolean requestServiceBindingLocked(ServiceRecord r, IntentBindRecord i,boolean execInFg, boolean rebind) throws TransactionTooLargeException {
    if ((!i.requested || rebind) &amp;&amp; i.apps.size() &gt; 0) {
        try {
            r.app.thread.scheduleBindService(r, i.intent.getIntent(), rebind, r.app.repProcState);
        }
    }
}
</code></pre>

<p>&emsp;&emsp;在requestServiceBindingsLocked（）方法中直接调用了返回值为boolean的requestServiceBindingsLocked（）方法，在另一个方法中，调用了ApplicationThread的scheduleBindService()方法，然后再次调用ActivityThread的handleBindService()方法。</p>

<pre class="line-numbers"><code class="language-java">private void handleBindService(BindServiceData data) {
    Service s = mServices.get(data.token);
    if (s != null) {
        try {
            //---;
            try {
                if (!data.rebind) {
                    IBinder binder = s.onBind(data.intent);
                    //调用ServiceConnection中的onServiceConnected()方法;
                    ActivityManager.getService().publishService(
                            data.token, data.intent, binder);
                } else {
                    s.onRebind(data.intent);
                    ActivityManager.getService().serviceDoneExecuting(
                            data.token, SERVICE_DONE_EXECUTING_ANON, 0, 0);
                }
                ensureJitEnabled();
            } catch (RemoteException ex) {
                
            }
        } catch (Exception e) {
            
        }
    }
}
</code></pre>

<p>&emsp;&emsp;在上面代码中调用了Service的onBind()方法。原则上来说，Service的onBind()方法调用后，Service就处于绑定状态了，但是onBind()方法还是Service的方法，这个时候客户端并不知道已经成功连接Service了，所以还必须调用客户端的ServiceConnection中的onServiceConnected（）方法，这个过程就是通过AMS的publishService()来完成的。</p>

<pre class="line-numbers"><code class="language-java">public void publishService(IBinder token, Intent intent, IBinder service) {
    //---;
    synchronized(this) {
        //---;
        mServices.publishServiceLocked((ServiceRecord)token, intent, service);
    }
}
</code></pre>

<p>&emsp;&emsp;再次右跳转到了ActiveServices中的mServices.publishServiceLocked（）方法中了。</p>

<pre class="line-numbers"><code class="language-java">void publishServiceLocked(ServiceRecord r, Intent intent, IBinder service) {
    final long origId = Binder.clearCallingIdentity();
    try {
        if (r != null) {
            if (b != null &amp;&amp; !b.received) {
                for (int conni=r.connections.size()-1; conni&gt;=0; conni--) {
                ArrayList&lt;ConnectionRecord&gt; clist = r.connections.valueAt(conni);
                for (int i=0; i&lt;clist.size(); i++) {
                    ConnectionRecord c = clist.get(i);
                    //---;
                    try{
                        c.conn.connected(r.name, service, false);
                    }
                }
            }
        }
    }
}
</code></pre>

<p>&emsp;&emsp;其中publishServiceLocked（）方法核心就是c.conn.connected(r.name,service,false)，其中的类型是ConnectionRecord，c.conn的类型是ServiceDispatcher.InnerConnection。</p>

<pre class="line-numbers"><code class="language-java">private static class InnerConnection extends IServiceConnection.Stub {
    final WeakReference&lt;LoadedApk.ServiceDispatcher&gt; mDispatcher;
    InnerConnection(LoadedApk.ServiceDispatcher sd) {
        mDispatcher = new WeakReference&lt;LoadedApk.ServiceDispatcher&gt;(sd);
    }
    public void connected(ComponentName name, IBinder service, boolean dead) throws RemoteException {
        LoadedApk.ServiceDispatcher sd = mDispatcher.get();
        if (sd != null) {
            sd.connected(name, service, dead);
        }
    }
}
</code></pre>

<p>&emsp;&emsp;ServiceDispatcher.InnerConnection的connected()方法很简单，就是调用了LoadedApk.ServiceDispatcher的connected（）方法。</p>

<pre class="line-numbers"><code class="language-java">public void connected(ComponentName name, IBinder service, boolean dead) {
    if (mActivityThread != null) {
        mActivityThread.post(new RunConnection(name, service, 0, dead));
    } else {
        doConnected(name, service, dead);
    }
}
</code></pre>

<pre class="line-numbers"><code class="language-java">private final class RunConnection implements Runnable {
    RunConnection(ComponentName name, IBinder service, int command, boolean dead) {
        mName = name;
        mService = service;
        mCommand = command;
        mDead = dead;
    }
    public void run() {
        if (mCommand == 0) {
            doConnected(mName, mService, mDead);
        } else if (mCommand == 1) {
            doDeath(mName, mService);
        }
    }
    final ComponentName mName;
    final IBinder mService;
    final int mCommand;
    final boolean mDead;
}
</code></pre>

<pre class="line-numbers"><code class="language-java">public void doConnected(ComponentName name, IBinder service, boolean dead) {
    if (old != null) {
        mConnection.onServiceDisconnected(name);
    }
    if (dead) {
        mConnection.onBindingDied(name);
    }
    if (service != null) {
        mConnection.onServiceConnected(name, service);
    }
}
</code></pre>

<p>&emsp;&emsp;mConnection就是ServiceDispatcher.InnerConnection。</p>

<h2 id="toc_20">使用服务的一些问题</h2>

<p>1 . 在Service中开启了线程，如果把Service销毁了，但是线程还是会继续存活，所以，需要在Service的onDestroy()方法中把线程给销毁。(注意安全销毁线程的方法)</p>

<ul>
<li>提高Service的优先级；</li>
</ul>

<p>-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-<br/>
-----------------------last line for now------------------------</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15832322241074.html"  title="Previous Post: SeekBar">&laquo; SeekBar</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15601718627780.html" 
	        title="Next Post: SharedPreferences">SharedPreferences &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15603581806506.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
