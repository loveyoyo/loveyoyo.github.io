<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Activity - KangLu
  
  </title>
 <meta name="description" content="个人文章">
 <link href="atom.xml" rel="alternate" title="KangLu" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">KangLu</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; KangLu</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>Android Studio开发调试</label></li>

          
            <li><a title="jks和keystore的区别" href="16213263578694.html">jks和keystore的区别</a></li>
          
            <li><a title="UI Automator Viewer的使用" href="16139851951679.html">UI Automator Viewer的使用</a></li>
          
            <li><a title="查看Android Studio中使用的依赖库" href="16137935397183.html">查看Android Studio中使用的依赖库</a></li>
          
            <li><a title="查看签名文件内容" href="16062676480386.html">查看签名文件内容</a></li>
          
            <li><a title="使用TraceView" href="16001927395196.html">使用TraceView</a></li>
          
            <li><a title="Android Studio的Structure工具窗口" href="15979290265055.html">Android Studio的Structure工具窗口</a></li>
          
            <li><a title="使用tcpdump抓包" href="15966325912957.html">使用tcpdump抓包</a></li>
          
            <li><a title="Android Studio使用小技巧" href="15586135036171.html">Android Studio使用小技巧</a></li>
          
            <li><a title="编码习惯" href="15881280991297.html">编码习惯</a></li>
          
            <li><a title="Android Studio使用的插件" href="15747689633391.html">Android Studio使用的插件</a></li>
          
            <li><a title="Gradle知识" href="15873151730996.html">Gradle知识</a></li>
          
            <li><a title="APK文件结构以及优化APK的大小" href="15876077941240.html">APK文件结构以及优化APK的大小</a></li>
          
            <li><a title="Android Device Monitor工具" href="15955778686384.html">Android Device Monitor工具</a></li>
          
            <li><a title="Android Studio使用viewbinding" href="15927964749535.html">Android Studio使用viewbinding</a></li>
          
            <li><a title="Android Studio报的错误" href="15747589164365.html">Android Studio报的错误</a></li>
          
            <li><a title="设置代码信息模版" href="15686328305080.html">设置代码信息模版</a></li>
          
            <li><a title="ADB命令" href="15706865755803.html">ADB命令</a></li>
          
            <li><a title="使用ADB命令查看数据库数据·" href="15776895359955.html">使用ADB命令查看数据库数据·</a></li>
          
            <li><a title="AAPT命令" href="15706865946961.html">AAPT命令</a></li>
          
            <li><a title="SecureCRT工具使用" href="15744200819532.html">SecureCRT工具使用</a></li>
          
            <li><a title="Gradle和Gradle插件之间的版本关联" href="15663700347276.html">Gradle和Gradle插件之间的版本关联</a></li>
          
            <li><a title="Android将library打包成jar包或者aar文件" href="15777599008991.html">Android将library打包成jar包或者aar文件</a></li>
          
            <li><a title="build.gradle文件" href="15638732552597.html">build.gradle文件</a></li>
          

      
        <li class="divider"></li>
        <li><label>四大组件及其相关类</label></li>

          
            <li><a title="Deep Links -- 深度链接" href="16208955206090.html">Deep Links -- 深度链接</a></li>
          
            <li><a title="Activity的状态保存和恢复" href="15994232717477.html">Activity的状态保存和恢复</a></li>
          
            <li><a title="View的滑动冲突" href="15991357742601.html">View的滑动冲突</a></li>
          
            <li><a title="View的滑动" href="15988921451098.html">View的滑动</a></li>
          
            <li><a title="Android的KeyEvent按键触摸事件传递机制" href="15984305843879.html">Android的KeyEvent按键触摸事件传递机制</a></li>
          
            <li><a title="自定义View和自定义ViewGroup中主要方法的执行顺序" href="15979224400729.html">自定义View和自定义ViewGroup中主要方法的执行顺序</a></li>
          
            <li><a title="自定义容器" href="15975164203980.html">自定义容器</a></li>
          
            <li><a title="自定义View" href="15966352005041.html">自定义View</a></li>
          
            <li><a title="AIDL" href="15965603616547.html">AIDL</a></li>
          
            <li><a title="View树的绘制流程" href="15961852523240.html">View树的绘制流程</a></li>
          
            <li><a title="Activity的组成结构" href="15961826101444.html">Activity的组成结构</a></li>
          
            <li><a title="Android数据存储" href="15925546637258.html">Android数据存储</a></li>
          
            <li><a title="Activity的启动流程" href="15913608813328.html">Activity的启动流程</a></li>
          
            <li><a title="安卓系统架构" href="15900311156878.html">安卓系统架构</a></li>
          
            <li><a title="多线程" href="15895247341993.html">多线程</a></li>
          
            <li><a title="View体系" href="15892159078168.html">View体系</a></li>
          
            <li><a title="四大组件的工作过程" href="15881609494140.html">四大组件的工作过程</a></li>
          
            <li><a title="Android IPC机制" href="15876457912729.html">Android IPC机制</a></li>
          
            <li><a title="Android数据序列化" href="15874843676808.html">Android数据序列化</a></li>
          
            <li><a title="Android的MotionEvent事件传递机制" href="15862769966851.html">Android的MotionEvent事件传递机制</a></li>
          
            <li><a title="SharedPreferences" href="15601718627780.html">SharedPreferences</a></li>
          
            <li><a title="Android简介" href="15834044312131.html">Android简介</a></li>
          
            <li><a title="Activity" href="15598792154683.html">Activity</a></li>
          
            <li><a title="安卓存储方式" href="15720050214610.html">安卓存储方式</a></li>
          
            <li><a title="Binder机制" href="15719000904205.html">Binder机制</a></li>
          
            <li><a title="安卓事件处理" href="15717946812357.html">安卓事件处理</a></li>
          
            <li><a title="Intent" href="15640232512188.html">Intent</a></li>
          
            <li><a title="ContentProvider--内容提供者" href="15603581865930.html">ContentProvider--内容提供者</a></li>
          
            <li><a title="Service--服务" href="15603581806506.html">Service--服务</a></li>
          
            <li><a title="BroadcastReceiver" href="15603581707523.html">BroadcastReceiver</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android组件</label></li>

          
            <li><a title="Adapter及其子类" href="15987345244709.html">Adapter及其子类</a></li>
          
            <li><a title="FloatingActionButton" href="15873151238128.html">FloatingActionButton</a></li>
          
            <li><a title="NavigationView" href="15873151137838.html">NavigationView</a></li>
          
            <li><a title="BottomSheetBehavior" href="15873151109302.html">BottomSheetBehavior</a></li>
          
            <li><a title="TabLayout" href="15873151075682.html">TabLayout</a></li>
          
            <li><a title="CollaspingToolbarLayout" href="15873150961844.html">CollaspingToolbarLayout</a></li>
          
            <li><a title="CoordinatorLayout" href="15873150855710.html">CoordinatorLayout</a></li>
          
            <li><a title="TextInputLayout" href="15873150854952.html">TextInputLayout</a></li>
          
            <li><a title="Snackbar" href="15873150711511.html">Snackbar</a></li>
          
            <li><a title="View（视图）" href="15587797736951.html">View（视图）</a></li>
          
            <li><a title="TextView" href="15584534943886.html">TextView</a></li>
          
            <li><a title="EditText" href="15587752872990.html">EditText</a></li>
          
            <li><a title="ImageView" href="15590447462728.html">ImageView</a></li>
          
            <li><a title="Button" href="15590305484634.html">Button</a></li>
          
            <li><a title="Toast" href="15832318775043.html">Toast</a></li>
          
            <li><a title="Spinner" href="15601388608282.html">Spinner</a></li>
          
            <li><a title="CheckBox和RadioButton" href="15601388701602.html">CheckBox和RadioButton</a></li>
          
            <li><a title="ProgressBar" href="15601389345357.html">ProgressBar</a></li>
          
            <li><a title="SeekBar" href="15832322241074.html">SeekBar</a></li>
          
            <li><a title="RatingBar" href="15832323147149.html">RatingBar</a></li>
          
            <li><a title="时间相关的控件" href="15832327057402.html">时间相关的控件</a></li>
          
            <li><a title="WebView" href="15601389648936.html">WebView</a></li>
          
            <li><a title="ListView" href="15590482064056.html">ListView</a></li>
          
            <li><a title="RecyclerView" href="15601389530971.html">RecyclerView</a></li>
          
            <li><a title="ScrollView和HorizontalView" href="15601389773513.html">ScrollView和HorizontalView</a></li>
          
            <li><a title="ViewPager" href="15601389699132.html">ViewPager</a></li>
          
            <li><a title="Fragment" href="15830020373441.html">Fragment</a></li>
          
            <li><a title="TabLayout" href="15639475255226.html">TabLayout</a></li>
          
            <li><a title="WheelView" href="15832330644393.html">WheelView</a></li>
          
            <li><a title="SwipeRefreshLayout" href="15607374213373.html">SwipeRefreshLayout</a></li>
          
            <li><a title="三大布局根控件" href="15832328030131.html">三大布局根控件</a></li>
          
            <li><a title="ConstraintLayout" href="15720053521924.html">ConstraintLayout</a></li>
          
            <li><a title="序" href="15584059143309.html">序</a></li>
          

      
        <li class="divider"></li>
        <li><label>消息机制与存储</label></li>

          
            <li><a title="Thread" href="15941454444849.html">Thread</a></li>
          
            <li><a title="ThreadLocal类" href="15915526996179.html">ThreadLocal类</a></li>
          
            <li><a title="Message类" href="15915526938269.html">Message类</a></li>
          
            <li><a title="MessageQueue类" href="15915526852831.html">MessageQueue类</a></li>
          
            <li><a title="Handler类" href="15915526788145.html">Handler类</a></li>
          
            <li><a title="Looper类" href="15915526673284.html">Looper类</a></li>
          
            <li><a title="Android的消息机制--Handler消息机制" href="15887553843774.html">Android的消息机制--Handler消息机制</a></li>
          
            <li><a title="Handler消息机制" href="15681720095770.html">Handler消息机制</a></li>
          

      
        <li class="divider"></li>
        <li><label>网络请求相关</label></li>

          
            <li><a title="Android 9.0 http网络请求问题" href="16204446832298.html">Android 9.0 http网络请求问题</a></li>
          
            <li><a title="PC端浏览器使用Http协议缓存" href="16032827867874.html">PC端浏览器使用Http协议缓存</a></li>
          
            <li><a title="HttpClient和HttpURLConnection" href="15897672365492.html">HttpClient和HttpURLConnection</a></li>
          
            <li><a title="网络相关" href="15616048657421.html">网络相关</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android功能</label></li>

          
            <li><a title="触摸事件" href="16221687313432.html">触摸事件</a></li>
          
            <li><a title="心跳包机制" href="16039934816197.html">心跳包机制</a></li>
          
            <li><a title="断点续传" href="16039920085823.html">断点续传</a></li>
          
            <li><a title="插件化" href="15832337513162.html">插件化</a></li>
          
            <li><a title="热修复" href="15832337461818.html">热修复</a></li>
          
            <li><a title="文件上传、下载、断点续传" href="15832337021510.html">文件上传、下载、断点续传</a></li>
          
            <li><a title="json/xml数据解析" href="15832336723066.html">json/xml数据解析</a></li>
          
            <li><a title="屏幕适配" href="15832335578226.html">屏幕适配</a></li>
          
            <li><a title="状态栏" href="15832335450787.html">状态栏</a></li>
          
            <li><a title="换肤" href="15832335396541.html">换肤</a></li>
          
            <li><a title="手势关闭" href="15832335221530.html">手势关闭</a></li>
          
            <li><a title="导航菜单" href="15832335120230.html">导航菜单</a></li>
          
            <li><a title="图表" href="15832335046878.html">图表</a></li>
          
            <li><a title="数据库" href="15832334917388.html">数据库</a></li>
          
            <li><a title="新手引导" href="15832334714220.html">新手引导</a></li>
          
            <li><a title="二维码和条形码" href="15832334567005.html">二维码和条形码</a></li>
          
            <li><a title="轮播图" href="15832334294029.html">轮播图</a></li>
          
            <li><a title="音视频" href="15832332927437.html">音视频</a></li>
          
            <li><a title="日志" href="15832038130305.html">日志</a></li>
          
            <li><a title="安卓系统设置" href="15794224269421.html">安卓系统设置</a></li>
          
            <li><a title="常用工具类和方法" href="15609277381914.html">常用工具类和方法</a></li>
          
            <li><a title="拍照和读取本地相册" href="15603979455589.html">拍照和读取本地相册</a></li>
          
            <li><a title="控制系统硬件功能" href="15603585084416.html">控制系统硬件功能</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android资源文件</label></li>

          
            <li><a title="特殊符号" href="16124972972718.html">特殊符号</a></li>
          
            <li><a title="推送机制" href="16012297259440.html">推送机制</a></li>
          
            <li><a title="Android插件框架机制" href="16012289364746.html">Android插件框架机制</a></li>
          
            <li><a title="64K方法数限制原理与解决方案" href="16012264048970.html">64K方法数限制原理与解决方案</a></li>
          
            <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
          
            <li><a title="Android 布局优化" href="15900636437169.html">Android 布局优化</a></li>
          
            <li><a title="Drawable文件" href="15832339330725.html">Drawable文件</a></li>
          
            <li><a title="异步消息处理线程" href="15744242463129.html">异步消息处理线程</a></li>
          
            <li><a title="Handler消息机制" href="15640230934557.html">Handler消息机制</a></li>
          
            <li><a title="内存泄漏" href="15638690144641.html">内存泄漏</a></li>
          
            <li><a title="画图" href="15627251763320.html">画图</a></li>
          
            <li><a title="反编译" href="15626395593984.html">反编译</a></li>
          
            <li><a title="assets资源" href="15608221314548.html">assets资源</a></li>
          
            <li><a title="Permissions权限" href="15597992631758.html">Permissions权限</a></li>
          
            <li><a title="res文件夹中的资源" href="15597050707116.html">res文件夹中的资源</a></li>
          
            <li><a title="动画" href="15591315255964.html">动画</a></li>
          
            <li><a title="Style和Theme" href="15591171572096.html">Style和Theme</a></li>
          

      
        <li class="divider"></li>
        <li><label>安卓多媒体、图像</label></li>

          
            <li><a title="音频传输" href="16188902074852.html">音频传输</a></li>
          
            <li><a title="音频格式对比" href="16060934492693.html">音频格式对比</a></li>
          
            <li><a title="音频" href="16058388262225.html">音频</a></li>
          
            <li><a title="图片压缩" href="16032147433526.html">图片压缩</a></li>
          
            <li><a title="位图运算" href="15978627842395.html">位图运算</a></li>
          
            <li><a title="阴影和渐变" href="15978578322849.html">阴影和渐变</a></li>
          
            <li><a title="双缓存技术" href="15978446413433.html">双缓存技术</a></li>
          
            <li><a title="Canvas的clipXxx()方法" href="15977771825588.html">Canvas的clipXxx()方法</a></li>
          
            <li><a title="Canvas的坐标转换" href="15977752461748.html">Canvas的坐标转换</a></li>
          
            <li><a title="View的invalidate()方法" href="15977739560419.html">View的invalidate()方法</a></li>
          
            <li><a title="Canvas类和Paint类" href="15976921344218.html">Canvas类和Paint类</a></li>
          
            <li><a title="Bitmap类和BitmapDrawable类" href="15976898855375.html">Bitmap类和BitmapDrawable类</a></li>
          
            <li><a title="Rect类和RectF类" href="15976691326047.html">Rect类和RectF类</a></li>
          
            <li><a title="Point类和PointF类" href="15976663490288.html">Point类和PointF类</a></li>
          
            <li><a title="AudioManager" href="15960319990767.html">AudioManager</a></li>
          
            <li><a title="Android WebView和JavaScript的交互" href="15874899350106.html">Android WebView和JavaScript的交互</a></li>
          
            <li><a title="音视频相关" href="15635278413412.html">音视频相关</a></li>
          
            <li><a title="相机相关" href="15635278316611.html">相机相关</a></li>
          

      
        <li class="divider"></li>
        <li><label>Jetpack</label></li>

          
            <li><a title="Jetpack" href="16231186943622.html">Jetpack</a></li>
          
            <li><a title="Lifecycle" href="16178717142947.html">Lifecycle</a></li>
          
            <li><a title="Navigation" href="16207856239934.html">Navigation</a></li>
          

      
        <li class="divider"></li>
        <li><label>第三方库</label></li>

          
            <li><a title="Stetho" href="15632684758267.html">Stetho</a></li>
          
            <li><a title="LeakCanary" href="15632684640367.html">LeakCanary</a></li>
          
            <li><a title="Gson" href="15632684493835.html">Gson</a></li>
          
            <li><a title="支付" href="15632684444086.html">支付</a></li>
          
            <li><a title="推送" href="15632684365504.html">推送</a></li>
          
            <li><a title="二维码条形码库" href="15632683396317.html">二维码条形码库</a></li>
          
            <li><a title="RxJava" href="15632683277748.html">RxJava</a></li>
          
            <li><a title="SqlBright" href="15632683205618.html">SqlBright</a></li>
          
            <li><a title="GreenDao" href="15632683120036.html">GreenDao</a></li>
          
            <li><a title="Fresco" href="15632683056692.html">Fresco</a></li>
          
            <li><a title="Picasso" href="15632683006333.html">Picasso</a></li>
          
            <li><a title="Glide" href="15632682942973.html">Glide</a></li>
          
            <li><a title="ButterKnife" href="15632682824135.html">ButterKnife</a></li>
          
            <li><a title="EventBus" href="15632682766122.html">EventBus</a></li>
          
            <li><a title="Retrofit" href="15632682688049.html">Retrofit</a></li>
          
            <li><a title="OkHttp3" href="15632682616090.html">OkHttp3</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android系统相关</label></li>

          
            <li><a title="AMS" href="16202952165241.html">AMS</a></li>
          
            <li><a title="安卓热修复" href="16041750280944.html">安卓热修复</a></li>
          
            <li><a title="安卓性能优化" href="16041742389517.html">安卓性能优化</a></li>
          
            <li><a title="线程池" href="16037158072749.html">线程池</a></li>
          
            <li><a title="App的启动过程" href="16036390477812.html">App的启动过程</a></li>
          
            <li><a title="APK启动过程" href="16007836387351.html">APK启动过程</a></li>
          
            <li><a title="apk文件以及打包流程" href="16006415583476.html">apk文件以及打包流程</a></li>
          
            <li><a title="ANR以及解决方法以及捕获未捕获的异常" href="16002456845586.html">ANR以及解决方法以及捕获未捕获的异常</a></li>
          
            <li><a title="内存溢出和解决方法" href="16001927297660.html">内存溢出和解决方法</a></li>
          
            <li><a title="APK安装过程" href="15997078103768.html">APK安装过程</a></li>
          
            <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
          
            <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
          
            <li><a title="MotionEvent屏幕触摸事件分发流程" href="15983458791697.html">MotionEvent屏幕触摸事件分发流程</a></li>
          
            <li><a title="KeyEvent按键点击事件处理流程" href="15982890451497.html">KeyEvent按键点击事件处理流程</a></li>
          
            <li><a title="Binder" href="15982033025648.html">Binder</a></li>
          
            <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
          
            <li><a title="setContentView()" href="15954049156461.html">setContentView()</a></li>
          
            <li><a title="AsyncTask.java" href="15953888428518.html">AsyncTask.java</a></li>
          
            <li><a title="ListView设置Adapter和更新数据源码分析--观察者模式" href="15951954419377.html">ListView设置Adapter和更新数据源码分析--观察者模式</a></li>
          
            <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
          
            <li><a title="SystemServer.java" href="15948434761291.html">SystemServer.java</a></li>
          
            <li><a title="Android系统启动过程" href="15946404844407.html">Android系统启动过程</a></li>
          
            <li><a title="Context" href="15936928417691.html">Context</a></li>
          
            <li><a title="Window和WindowManager" href="15882183325715.html">Window和WindowManager</a></li>
          
            <li><a title="Manifest清单文件" href="15596519462062.html">Manifest清单文件</a></li>
          

      
        <li class="divider"></li>
        <li><label>安卓源码</label></li>

          
            <li><a title="SystemClock类" href="16067889519707.html">SystemClock类</a></li>
          
            <li><a title="onUserInteraction()与onUserLeaveHint()" href="16003048093058.html">onUserInteraction()与onUserLeaveHint()</a></li>
          
            <li><a title="HandlerThread" href="16002981223383.html">HandlerThread</a></li>
          
            <li><a title="IntentService" href="16002980534244.html">IntentService</a></li>
          
            <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
          
            <li><a title="GestureDetector" href="15988119621841.html">GestureDetector</a></li>
          
            <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
          
            <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
          
            <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
          
            <li><a title="JNI调用机制" href="15719841747032.html">JNI调用机制</a></li>
          
            <li><a title="ComponentCallbacks和ComponentCallbacks2" href="15959378334016.html">ComponentCallbacks和ComponentCallbacks2</a></li>
          
            <li><a title="安卓源码目录结构分析" href="15713661513977.html">安卓源码目录结构分析</a></li>
          
            <li><a title="preloaded-classes" href="15717452568747.html">preloaded-classes</a></li>
          

      
        <li class="divider"></li>
        <li><label>Framework</label></li>

          
            <li><a title="连接Android和Linux内核的桥梁——Android的Bionic" href="15796625335119.html">连接Android和Linux内核的桥梁——Android的Bionic</a></li>
          
            <li><a title="Android的编译环境--Build系统" href="15791618199796.html">Android的编译环境--Build系统</a></li>
          
            <li><a title="Android.mk文件" href="15773673300273.html">Android.mk文件</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android内核剖析</label></li>

          
            <li><a title="Framework概述" href="15747509659838.html">Framework概述</a></li>
          
            <li><a title="Binder" href="15747333089774.html">Binder</a></li>
          
            <li><a title="Framework的启动过程" href="15747331308712.html">Framework的启动过程</a></li>
          

      
        <li class="divider"></li>
        <li><label>深入理解Android</label></li>

          
            <li><a title="深入理解PackageManagerService" href="16008487631075.html">深入理解PackageManagerService</a></li>
          
            <li><a title="深入理解Surface系统" href="16007635680752.html">深入理解Surface系统</a></li>
          
            <li><a title="深入理解WindowManagerService" href="16007630337829.html">深入理解WindowManagerService</a></li>
          
            <li><a title="深入理解Android输入系统" href="16006883092534.html">深入理解Android输入系统</a></li>
          
            <li><a title="3. 连接Android和Linux内核的桥梁--Android的Bionic" href="15826096876760.html">3. 连接Android和Linux内核的桥梁--Android的Bionic</a></li>
          
            <li><a title="2.Android的编译环境--Build系统" href="15825987090516.html">2.Android的编译环境--Build系统</a></li>
          

      
        <li class="divider"></li>
        <li><label>Android开发工具</label></li>

          
            <li><a title="GPU呈现模式分析" href="16203574480848.html">GPU呈现模式分析</a></li>
          
            <li><a title="Android不透明度对应的16进制值" href="16109381219800.html">Android不透明度对应的16进制值</a></li>
          

      
        <li class="divider"></li>
        <li><label>架构</label></li>

          
            <li><a title="Android组件化架构" href="16212169719717.html">Android组件化架构</a></li>
          

      
        <li class="divider"></li>
        <li><label>Kotlin</label></li>

          
            <li><a title="Kotlin修饰符" href="16220176873496.html">Kotlin修饰符</a></li>
          
            <li><a title="Kotlin配置" href="16215019403387.html">Kotlin配置</a></li>
          
            <li><a title="Any和Object" href="16202922452879.html">Any和Object</a></li>
          
            <li><a title="注意事项" href="16054946011494.html">注意事项</a></li>
          
            <li><a title="函数" href="16050787660502.html">函数</a></li>
          
            <li><a title="集合框架" href="16050764808062.html">集合框架</a></li>
          
            <li><a title="区间" href="16050753339197.html">区间</a></li>
          
            <li><a title="数组" href="16050733875473.html">数组</a></li>
          
            <li><a title="基本类型数据" href="16050663211604.html">基本类型数据</a></li>
          

      
        <li class="divider"></li>
        <li><label>Git</label></li>

          
            <li><a title="git概述" href="15720062741897.html">git概述</a></li>
          
            <li><a title="Git按照功能来分类" href="15718356444970.html">Git按照功能来分类</a></li>
          
            <li><a title="Git常见用法" href="15607376634694.html">Git常见用法</a></li>
          

      
        <li class="divider"></li>
        <li><label>Java</label></li>

          
            <li><a title="Java线程池" href="16041633383721.html">Java线程池</a></li>
          
            <li><a title="Java线程" href="16041627017647.html">Java线程</a></li>
          
            <li><a title="Java深拷贝和浅拷贝" href="16041605743704.html">Java深拷贝和浅拷贝</a></li>
          
            <li><a title="Java异常" href="16041603866147.html">Java异常</a></li>
          
            <li><a title="RandomAccessFile" href="16041602871100.html">RandomAccessFile</a></li>
          
            <li><a title="Java IO" href="16041584305867.html">Java IO</a></li>
          
            <li><a title="LinkedHashMap" href="16041410387995.html">LinkedHashMap</a></li>
          
            <li><a title="TreeMap" href="16041410169042.html">TreeMap</a></li>
          
            <li><a title="HashMap" href="16041393802858.html">HashMap</a></li>
          
            <li><a title="LinkedList" href="16041386256783.html">LinkedList</a></li>
          
            <li><a title="ArrayList" href="16041374199121.html">ArrayList</a></li>
          
            <li><a title="Java集合类" href="16041330974013.html">Java集合类</a></li>
          
            <li><a title="杂记" href="15948431328032.html">杂记</a></li>
          
            <li><a title="Java的四种引用变量" href="15877076691357.html">Java的四种引用变量</a></li>
          
            <li><a title="MeasureSpec" href="15864726816307.html">MeasureSpec</a></li>
          
            <li><a title="Java小知识点" href="15777569350023.html">Java小知识点</a></li>
          

      
        <li class="divider"></li>
        <li><label>设计模式</label></li>

          
            <li><a title="设计模式概述" href="15783889880973.html">设计模式概述</a></li>
          
            <li><a title="UML(统一建模语言)" href="16230361480088.html">UML(统一建模语言)</a></li>
          
            <li><a title="单例模式" href="15897847467736.html">单例模式</a></li>
          
            <li><a title="代理模式" href="15900263250197.html">代理模式</a></li>
          
            <li><a title="建造者模式" href="15897849590411.html">建造者模式</a></li>
          
            <li><a title="工厂方法模式" href="15897849469753.html">工厂方法模式</a></li>
          
            <li><a title="简单工厂模式" href="15897849322436.html">简单工厂模式</a></li>
          
            <li><a title="简单工厂模式(Simple Factory)" href="15784035954571.html">简单工厂模式(Simple Factory)</a></li>
          

      
        <li class="divider"></li>
        <li><label>数据结构和算法</label></li>

          
            <li><a title="List及其子类" href="16038826600526.html">List及其子类</a></li>
          
            <li><a title="面试中的算法" href="15970860318982.html">面试中的算法</a></li>
          
            <li><a title="排序算法" href="15881272462871.html">排序算法</a></li>
          
            <li><a title="树" href="15881273285027.html">树</a></li>
          
            <li><a title="数据结构基础" href="15644690293137.html">数据结构基础</a></li>
          
            <li><a title="算法概述" href="15644655646063.html">算法概述</a></li>
          

      
        <li class="divider"></li>
        <li><label>网络爬虫</label></li>

          
            <li><a title="爬虫--基本库的使用" href="15660531164999.html">爬虫--基本库的使用</a></li>
          
            <li><a title="爬虫概述" href="15660114926379.html">爬虫概述</a></li>
          

      
        <li class="divider"></li>
        <li><label>计算机网络</label></li>

          
            <li><a title="图解HTTP--第一章--了解Web及网络基础" href="16023212652925.html">图解HTTP--第一章--了解Web及网络基础</a></li>
          
            <li><a title="图解HTTP--第九章--基于http的功能追加协议" href="15855764881285.html">图解HTTP--第九章--基于http的功能追加协议</a></li>
          
            <li><a title="图解HTTP--第八章--确认访问用户身份的认证" href="15855764130446.html">图解HTTP--第八章--确认访问用户身份的认证</a></li>
          
            <li><a title="图解HTTP--第七章--确保web安全的https" href="15855763389947.html">图解HTTP--第七章--确保web安全的https</a></li>
          
            <li><a title="图解HTTP--第六章--http首部" href="15855761102550.html">图解HTTP--第六章--http首部</a></li>
          
            <li><a title="图解HTTP--第五章--与HTTP协作的Web服务器" href="15855728450260.html">图解HTTP--第五章--与HTTP协作的Web服务器</a></li>
          
            <li><a title="图解HTTP--第四章--返回结果的http状态码" href="15855701437164.html">图解HTTP--第四章--返回结果的http状态码</a></li>
          
            <li><a title="图解HTTP--第三章--HTTP报文内的HTTP信息" href="15853911594446.html">图解HTTP--第三章--HTTP报文内的HTTP信息</a></li>
          
            <li><a title="图解HTTP--第二章--简单的HTTP协议" href="15853261274339.html">图解HTTP--第二章--简单的HTTP协议</a></li>
          
            <li><a title="TCP/IP" href="15852402680558.html">TCP/IP</a></li>
          
            <li><a title="HTTP和HTTPS" href="15850526868228.html">HTTP和HTTPS</a></li>
          
            <li><a title="计算机网络第五版--第二章" href="15849271154228.html">计算机网络第五版--第二章</a></li>
          
            <li><a title="计算机网络第五版--第一章" href="15846863033375.html">计算机网络第五版--第一章</a></li>
          
            <li><a title="ping命令" href="15832390905461.html">ping命令</a></li>
          
            <li><a title="基础" href="15650980568729.html">基础</a></li>
          

      
        <li class="divider"></li>
        <li><label>计算机基础</label></li>

          
            <li><a title="简单常识" href="15955796448880.html">简单常识</a></li>
          
            <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
          
            <li><a title="Java语言中注意事项" href="15906748975501.html">Java语言中注意事项</a></li>
          
            <li><a title="术语" href="15831479672487.html">术语</a></li>
          
            <li><a title="HTTP基本原理" href="15659232055748.html">HTTP基本原理</a></li>
          

      
        <li class="divider"></li>
        <li><label>Linux系统</label></li>

          
            <li><a title="基础简述" href="15719238641803.html">基础简述</a></li>
          

      
        <li class="divider"></li>
        <li><label>React-Native</label></li>

          
            <li><a title="ScrollView组件" href="15622306484069.html">ScrollView组件</a></li>
          
            <li><a title="组件的生命周期" href="15621446974979.html">组件的生命周期</a></li>
          
            <li><a title="TextInput组件" href="15621338635960.html">TextInput组件</a></li>
          
            <li><a title="遇到的问题" href="15620469922995.html">遇到的问题</a></li>
          
            <li><a title="组件" href="15617091937336.html">组件</a></li>
          
            <li><a title="React-Native零碎" href="15616187358724.html">React-Native零碎</a></li>
          
            <li><a title="react-navigation" href="15584071613702.html">react-navigation</a></li>
          

      
        <li class="divider"></li>
        <li><label>随想</label></li>

          
            <li><a title="整理的体系" href="16031941250957.html">整理的体系</a></li>
          
            <li><a title="需要后续查看的东西" href="15893692089911.html">需要后续查看的东西</a></li>
          
            <li><a title="to be a free man" href="15605804886383.html">to be a free man</a></li>
          
            <li><a title="for" href="15583472660662.html">for</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>Android Studio开发调试</span></li>
                        
                          <li><a title="jks和keystore的区别" href="16213263578694.html">jks和keystore的区别</a></li>
                        
                          <li><a title="UI Automator Viewer的使用" href="16139851951679.html">UI Automator Viewer的使用</a></li>
                        
                          <li><a title="查看Android Studio中使用的依赖库" href="16137935397183.html">查看Android Studio中使用的依赖库</a></li>
                        
                          <li><a title="查看签名文件内容" href="16062676480386.html">查看签名文件内容</a></li>
                        
                          <li><a title="使用TraceView" href="16001927395196.html">使用TraceView</a></li>
                        
                          <li><a title="Android Studio的Structure工具窗口" href="15979290265055.html">Android Studio的Structure工具窗口</a></li>
                        
                          <li><a title="使用tcpdump抓包" href="15966325912957.html">使用tcpdump抓包</a></li>
                        
                          <li><a title="Android Studio使用小技巧" href="15586135036171.html">Android Studio使用小技巧</a></li>
                        
                          <li><a title="编码习惯" href="15881280991297.html">编码习惯</a></li>
                        
                          <li><a title="Android Studio使用的插件" href="15747689633391.html">Android Studio使用的插件</a></li>
                        
                          <li><a title="Gradle知识" href="15873151730996.html">Gradle知识</a></li>
                        
                          <li><a title="APK文件结构以及优化APK的大小" href="15876077941240.html">APK文件结构以及优化APK的大小</a></li>
                        
                          <li><a title="Android Device Monitor工具" href="15955778686384.html">Android Device Monitor工具</a></li>
                        
                          <li><a title="Android Studio使用viewbinding" href="15927964749535.html">Android Studio使用viewbinding</a></li>
                        
                          <li><a title="Android Studio报的错误" href="15747589164365.html">Android Studio报的错误</a></li>
                        
                          <li><a title="设置代码信息模版" href="15686328305080.html">设置代码信息模版</a></li>
                        
                          <li><a title="ADB命令" href="15706865755803.html">ADB命令</a></li>
                        
                          <li><a title="使用ADB命令查看数据库数据·" href="15776895359955.html">使用ADB命令查看数据库数据·</a></li>
                        
                          <li><a title="AAPT命令" href="15706865946961.html">AAPT命令</a></li>
                        
                          <li><a title="SecureCRT工具使用" href="15744200819532.html">SecureCRT工具使用</a></li>
                        
                          <li><a title="Gradle和Gradle插件之间的版本关联" href="15663700347276.html">Gradle和Gradle插件之间的版本关联</a></li>
                        
                          <li><a title="Android将library打包成jar包或者aar文件" href="15777599008991.html">Android将library打包成jar包或者aar文件</a></li>
                        
                          <li><a title="build.gradle文件" href="15638732552597.html">build.gradle文件</a></li>
                        

                    
                      <li class="side-title"><span>四大组件及其相关类</span></li>
                        
                          <li><a title="Deep Links -- 深度链接" href="16208955206090.html">Deep Links -- 深度链接</a></li>
                        
                          <li><a title="Activity的状态保存和恢复" href="15994232717477.html">Activity的状态保存和恢复</a></li>
                        
                          <li><a title="View的滑动冲突" href="15991357742601.html">View的滑动冲突</a></li>
                        
                          <li><a title="View的滑动" href="15988921451098.html">View的滑动</a></li>
                        
                          <li><a title="Android的KeyEvent按键触摸事件传递机制" href="15984305843879.html">Android的KeyEvent按键触摸事件传递机制</a></li>
                        
                          <li><a title="自定义View和自定义ViewGroup中主要方法的执行顺序" href="15979224400729.html">自定义View和自定义ViewGroup中主要方法的执行顺序</a></li>
                        
                          <li><a title="自定义容器" href="15975164203980.html">自定义容器</a></li>
                        
                          <li><a title="自定义View" href="15966352005041.html">自定义View</a></li>
                        
                          <li><a title="AIDL" href="15965603616547.html">AIDL</a></li>
                        
                          <li><a title="View树的绘制流程" href="15961852523240.html">View树的绘制流程</a></li>
                        
                          <li><a title="Activity的组成结构" href="15961826101444.html">Activity的组成结构</a></li>
                        
                          <li><a title="Android数据存储" href="15925546637258.html">Android数据存储</a></li>
                        
                          <li><a title="Activity的启动流程" href="15913608813328.html">Activity的启动流程</a></li>
                        
                          <li><a title="安卓系统架构" href="15900311156878.html">安卓系统架构</a></li>
                        
                          <li><a title="多线程" href="15895247341993.html">多线程</a></li>
                        
                          <li><a title="View体系" href="15892159078168.html">View体系</a></li>
                        
                          <li><a title="四大组件的工作过程" href="15881609494140.html">四大组件的工作过程</a></li>
                        
                          <li><a title="Android IPC机制" href="15876457912729.html">Android IPC机制</a></li>
                        
                          <li><a title="Android数据序列化" href="15874843676808.html">Android数据序列化</a></li>
                        
                          <li><a title="Android的MotionEvent事件传递机制" href="15862769966851.html">Android的MotionEvent事件传递机制</a></li>
                        
                          <li><a title="SharedPreferences" href="15601718627780.html">SharedPreferences</a></li>
                        
                          <li><a title="Android简介" href="15834044312131.html">Android简介</a></li>
                        
                          <li><a title="Activity" href="15598792154683.html">Activity</a></li>
                        
                          <li><a title="安卓存储方式" href="15720050214610.html">安卓存储方式</a></li>
                        
                          <li><a title="Binder机制" href="15719000904205.html">Binder机制</a></li>
                        
                          <li><a title="安卓事件处理" href="15717946812357.html">安卓事件处理</a></li>
                        
                          <li><a title="Intent" href="15640232512188.html">Intent</a></li>
                        
                          <li><a title="ContentProvider--内容提供者" href="15603581865930.html">ContentProvider--内容提供者</a></li>
                        
                          <li><a title="Service--服务" href="15603581806506.html">Service--服务</a></li>
                        
                          <li><a title="BroadcastReceiver" href="15603581707523.html">BroadcastReceiver</a></li>
                        

                    
                      <li class="side-title"><span>Android组件</span></li>
                        
                          <li><a title="Adapter及其子类" href="15987345244709.html">Adapter及其子类</a></li>
                        
                          <li><a title="FloatingActionButton" href="15873151238128.html">FloatingActionButton</a></li>
                        
                          <li><a title="NavigationView" href="15873151137838.html">NavigationView</a></li>
                        
                          <li><a title="BottomSheetBehavior" href="15873151109302.html">BottomSheetBehavior</a></li>
                        
                          <li><a title="TabLayout" href="15873151075682.html">TabLayout</a></li>
                        
                          <li><a title="CollaspingToolbarLayout" href="15873150961844.html">CollaspingToolbarLayout</a></li>
                        
                          <li><a title="CoordinatorLayout" href="15873150855710.html">CoordinatorLayout</a></li>
                        
                          <li><a title="TextInputLayout" href="15873150854952.html">TextInputLayout</a></li>
                        
                          <li><a title="Snackbar" href="15873150711511.html">Snackbar</a></li>
                        
                          <li><a title="View（视图）" href="15587797736951.html">View（视图）</a></li>
                        
                          <li><a title="TextView" href="15584534943886.html">TextView</a></li>
                        
                          <li><a title="EditText" href="15587752872990.html">EditText</a></li>
                        
                          <li><a title="ImageView" href="15590447462728.html">ImageView</a></li>
                        
                          <li><a title="Button" href="15590305484634.html">Button</a></li>
                        
                          <li><a title="Toast" href="15832318775043.html">Toast</a></li>
                        
                          <li><a title="Spinner" href="15601388608282.html">Spinner</a></li>
                        
                          <li><a title="CheckBox和RadioButton" href="15601388701602.html">CheckBox和RadioButton</a></li>
                        
                          <li><a title="ProgressBar" href="15601389345357.html">ProgressBar</a></li>
                        
                          <li><a title="SeekBar" href="15832322241074.html">SeekBar</a></li>
                        
                          <li><a title="RatingBar" href="15832323147149.html">RatingBar</a></li>
                        
                          <li><a title="时间相关的控件" href="15832327057402.html">时间相关的控件</a></li>
                        
                          <li><a title="WebView" href="15601389648936.html">WebView</a></li>
                        
                          <li><a title="ListView" href="15590482064056.html">ListView</a></li>
                        
                          <li><a title="RecyclerView" href="15601389530971.html">RecyclerView</a></li>
                        
                          <li><a title="ScrollView和HorizontalView" href="15601389773513.html">ScrollView和HorizontalView</a></li>
                        
                          <li><a title="ViewPager" href="15601389699132.html">ViewPager</a></li>
                        
                          <li><a title="Fragment" href="15830020373441.html">Fragment</a></li>
                        
                          <li><a title="TabLayout" href="15639475255226.html">TabLayout</a></li>
                        
                          <li><a title="WheelView" href="15832330644393.html">WheelView</a></li>
                        
                          <li><a title="SwipeRefreshLayout" href="15607374213373.html">SwipeRefreshLayout</a></li>
                        
                          <li><a title="三大布局根控件" href="15832328030131.html">三大布局根控件</a></li>
                        
                          <li><a title="ConstraintLayout" href="15720053521924.html">ConstraintLayout</a></li>
                        
                          <li><a title="序" href="15584059143309.html">序</a></li>
                        

                    
                      <li class="side-title"><span>消息机制与存储</span></li>
                        
                          <li><a title="Thread" href="15941454444849.html">Thread</a></li>
                        
                          <li><a title="ThreadLocal类" href="15915526996179.html">ThreadLocal类</a></li>
                        
                          <li><a title="Message类" href="15915526938269.html">Message类</a></li>
                        
                          <li><a title="MessageQueue类" href="15915526852831.html">MessageQueue类</a></li>
                        
                          <li><a title="Handler类" href="15915526788145.html">Handler类</a></li>
                        
                          <li><a title="Looper类" href="15915526673284.html">Looper类</a></li>
                        
                          <li><a title="Android的消息机制--Handler消息机制" href="15887553843774.html">Android的消息机制--Handler消息机制</a></li>
                        
                          <li><a title="Handler消息机制" href="15681720095770.html">Handler消息机制</a></li>
                        

                    
                      <li class="side-title"><span>网络请求相关</span></li>
                        
                          <li><a title="Android 9.0 http网络请求问题" href="16204446832298.html">Android 9.0 http网络请求问题</a></li>
                        
                          <li><a title="PC端浏览器使用Http协议缓存" href="16032827867874.html">PC端浏览器使用Http协议缓存</a></li>
                        
                          <li><a title="HttpClient和HttpURLConnection" href="15897672365492.html">HttpClient和HttpURLConnection</a></li>
                        
                          <li><a title="网络相关" href="15616048657421.html">网络相关</a></li>
                        

                    
                      <li class="side-title"><span>Android功能</span></li>
                        
                          <li><a title="触摸事件" href="16221687313432.html">触摸事件</a></li>
                        
                          <li><a title="心跳包机制" href="16039934816197.html">心跳包机制</a></li>
                        
                          <li><a title="断点续传" href="16039920085823.html">断点续传</a></li>
                        
                          <li><a title="插件化" href="15832337513162.html">插件化</a></li>
                        
                          <li><a title="热修复" href="15832337461818.html">热修复</a></li>
                        
                          <li><a title="文件上传、下载、断点续传" href="15832337021510.html">文件上传、下载、断点续传</a></li>
                        
                          <li><a title="json/xml数据解析" href="15832336723066.html">json/xml数据解析</a></li>
                        
                          <li><a title="屏幕适配" href="15832335578226.html">屏幕适配</a></li>
                        
                          <li><a title="状态栏" href="15832335450787.html">状态栏</a></li>
                        
                          <li><a title="换肤" href="15832335396541.html">换肤</a></li>
                        
                          <li><a title="手势关闭" href="15832335221530.html">手势关闭</a></li>
                        
                          <li><a title="导航菜单" href="15832335120230.html">导航菜单</a></li>
                        
                          <li><a title="图表" href="15832335046878.html">图表</a></li>
                        
                          <li><a title="数据库" href="15832334917388.html">数据库</a></li>
                        
                          <li><a title="新手引导" href="15832334714220.html">新手引导</a></li>
                        
                          <li><a title="二维码和条形码" href="15832334567005.html">二维码和条形码</a></li>
                        
                          <li><a title="轮播图" href="15832334294029.html">轮播图</a></li>
                        
                          <li><a title="音视频" href="15832332927437.html">音视频</a></li>
                        
                          <li><a title="日志" href="15832038130305.html">日志</a></li>
                        
                          <li><a title="安卓系统设置" href="15794224269421.html">安卓系统设置</a></li>
                        
                          <li><a title="常用工具类和方法" href="15609277381914.html">常用工具类和方法</a></li>
                        
                          <li><a title="拍照和读取本地相册" href="15603979455589.html">拍照和读取本地相册</a></li>
                        
                          <li><a title="控制系统硬件功能" href="15603585084416.html">控制系统硬件功能</a></li>
                        

                    
                      <li class="side-title"><span>Android资源文件</span></li>
                        
                          <li><a title="特殊符号" href="16124972972718.html">特殊符号</a></li>
                        
                          <li><a title="推送机制" href="16012297259440.html">推送机制</a></li>
                        
                          <li><a title="Android插件框架机制" href="16012289364746.html">Android插件框架机制</a></li>
                        
                          <li><a title="64K方法数限制原理与解决方案" href="16012264048970.html">64K方法数限制原理与解决方案</a></li>
                        
                          <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
                        
                          <li><a title="Android 布局优化" href="15900636437169.html">Android 布局优化</a></li>
                        
                          <li><a title="Drawable文件" href="15832339330725.html">Drawable文件</a></li>
                        
                          <li><a title="异步消息处理线程" href="15744242463129.html">异步消息处理线程</a></li>
                        
                          <li><a title="Handler消息机制" href="15640230934557.html">Handler消息机制</a></li>
                        
                          <li><a title="内存泄漏" href="15638690144641.html">内存泄漏</a></li>
                        
                          <li><a title="画图" href="15627251763320.html">画图</a></li>
                        
                          <li><a title="反编译" href="15626395593984.html">反编译</a></li>
                        
                          <li><a title="assets资源" href="15608221314548.html">assets资源</a></li>
                        
                          <li><a title="Permissions权限" href="15597992631758.html">Permissions权限</a></li>
                        
                          <li><a title="res文件夹中的资源" href="15597050707116.html">res文件夹中的资源</a></li>
                        
                          <li><a title="动画" href="15591315255964.html">动画</a></li>
                        
                          <li><a title="Style和Theme" href="15591171572096.html">Style和Theme</a></li>
                        

                    
                      <li class="side-title"><span>安卓多媒体、图像</span></li>
                        
                          <li><a title="音频传输" href="16188902074852.html">音频传输</a></li>
                        
                          <li><a title="音频格式对比" href="16060934492693.html">音频格式对比</a></li>
                        
                          <li><a title="音频" href="16058388262225.html">音频</a></li>
                        
                          <li><a title="图片压缩" href="16032147433526.html">图片压缩</a></li>
                        
                          <li><a title="位图运算" href="15978627842395.html">位图运算</a></li>
                        
                          <li><a title="阴影和渐变" href="15978578322849.html">阴影和渐变</a></li>
                        
                          <li><a title="双缓存技术" href="15978446413433.html">双缓存技术</a></li>
                        
                          <li><a title="Canvas的clipXxx()方法" href="15977771825588.html">Canvas的clipXxx()方法</a></li>
                        
                          <li><a title="Canvas的坐标转换" href="15977752461748.html">Canvas的坐标转换</a></li>
                        
                          <li><a title="View的invalidate()方法" href="15977739560419.html">View的invalidate()方法</a></li>
                        
                          <li><a title="Canvas类和Paint类" href="15976921344218.html">Canvas类和Paint类</a></li>
                        
                          <li><a title="Bitmap类和BitmapDrawable类" href="15976898855375.html">Bitmap类和BitmapDrawable类</a></li>
                        
                          <li><a title="Rect类和RectF类" href="15976691326047.html">Rect类和RectF类</a></li>
                        
                          <li><a title="Point类和PointF类" href="15976663490288.html">Point类和PointF类</a></li>
                        
                          <li><a title="AudioManager" href="15960319990767.html">AudioManager</a></li>
                        
                          <li><a title="Android WebView和JavaScript的交互" href="15874899350106.html">Android WebView和JavaScript的交互</a></li>
                        
                          <li><a title="音视频相关" href="15635278413412.html">音视频相关</a></li>
                        
                          <li><a title="相机相关" href="15635278316611.html">相机相关</a></li>
                        

                    
                      <li class="side-title"><span>Jetpack</span></li>
                        
                          <li><a title="Jetpack" href="16231186943622.html">Jetpack</a></li>
                        
                          <li><a title="Lifecycle" href="16178717142947.html">Lifecycle</a></li>
                        
                          <li><a title="Navigation" href="16207856239934.html">Navigation</a></li>
                        

                    
                      <li class="side-title"><span>第三方库</span></li>
                        
                          <li><a title="Stetho" href="15632684758267.html">Stetho</a></li>
                        
                          <li><a title="LeakCanary" href="15632684640367.html">LeakCanary</a></li>
                        
                          <li><a title="Gson" href="15632684493835.html">Gson</a></li>
                        
                          <li><a title="支付" href="15632684444086.html">支付</a></li>
                        
                          <li><a title="推送" href="15632684365504.html">推送</a></li>
                        
                          <li><a title="二维码条形码库" href="15632683396317.html">二维码条形码库</a></li>
                        
                          <li><a title="RxJava" href="15632683277748.html">RxJava</a></li>
                        
                          <li><a title="SqlBright" href="15632683205618.html">SqlBright</a></li>
                        
                          <li><a title="GreenDao" href="15632683120036.html">GreenDao</a></li>
                        
                          <li><a title="Fresco" href="15632683056692.html">Fresco</a></li>
                        
                          <li><a title="Picasso" href="15632683006333.html">Picasso</a></li>
                        
                          <li><a title="Glide" href="15632682942973.html">Glide</a></li>
                        
                          <li><a title="ButterKnife" href="15632682824135.html">ButterKnife</a></li>
                        
                          <li><a title="EventBus" href="15632682766122.html">EventBus</a></li>
                        
                          <li><a title="Retrofit" href="15632682688049.html">Retrofit</a></li>
                        
                          <li><a title="OkHttp3" href="15632682616090.html">OkHttp3</a></li>
                        

                    
                      <li class="side-title"><span>Android系统相关</span></li>
                        
                          <li><a title="AMS" href="16202952165241.html">AMS</a></li>
                        
                          <li><a title="安卓热修复" href="16041750280944.html">安卓热修复</a></li>
                        
                          <li><a title="安卓性能优化" href="16041742389517.html">安卓性能优化</a></li>
                        
                          <li><a title="线程池" href="16037158072749.html">线程池</a></li>
                        
                          <li><a title="App的启动过程" href="16036390477812.html">App的启动过程</a></li>
                        
                          <li><a title="APK启动过程" href="16007836387351.html">APK启动过程</a></li>
                        
                          <li><a title="apk文件以及打包流程" href="16006415583476.html">apk文件以及打包流程</a></li>
                        
                          <li><a title="ANR以及解决方法以及捕获未捕获的异常" href="16002456845586.html">ANR以及解决方法以及捕获未捕获的异常</a></li>
                        
                          <li><a title="内存溢出和解决方法" href="16001927297660.html">内存溢出和解决方法</a></li>
                        
                          <li><a title="APK安装过程" href="15997078103768.html">APK安装过程</a></li>
                        
                          <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
                        
                          <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
                        
                          <li><a title="MotionEvent屏幕触摸事件分发流程" href="15983458791697.html">MotionEvent屏幕触摸事件分发流程</a></li>
                        
                          <li><a title="KeyEvent按键点击事件处理流程" href="15982890451497.html">KeyEvent按键点击事件处理流程</a></li>
                        
                          <li><a title="Binder" href="15982033025648.html">Binder</a></li>
                        
                          <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
                        
                          <li><a title="setContentView()" href="15954049156461.html">setContentView()</a></li>
                        
                          <li><a title="AsyncTask.java" href="15953888428518.html">AsyncTask.java</a></li>
                        
                          <li><a title="ListView设置Adapter和更新数据源码分析--观察者模式" href="15951954419377.html">ListView设置Adapter和更新数据源码分析--观察者模式</a></li>
                        
                          <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
                        
                          <li><a title="SystemServer.java" href="15948434761291.html">SystemServer.java</a></li>
                        
                          <li><a title="Android系统启动过程" href="15946404844407.html">Android系统启动过程</a></li>
                        
                          <li><a title="Context" href="15936928417691.html">Context</a></li>
                        
                          <li><a title="Window和WindowManager" href="15882183325715.html">Window和WindowManager</a></li>
                        
                          <li><a title="Manifest清单文件" href="15596519462062.html">Manifest清单文件</a></li>
                        

                    
                      <li class="side-title"><span>安卓源码</span></li>
                        
                          <li><a title="SystemClock类" href="16067889519707.html">SystemClock类</a></li>
                        
                          <li><a title="onUserInteraction()与onUserLeaveHint()" href="16003048093058.html">onUserInteraction()与onUserLeaveHint()</a></li>
                        
                          <li><a title="HandlerThread" href="16002981223383.html">HandlerThread</a></li>
                        
                          <li><a title="IntentService" href="16002980534244.html">IntentService</a></li>
                        
                          <li><a title="Scroller" href="15988136317147.html">Scroller</a></li>
                        
                          <li><a title="GestureDetector" href="15988119621841.html">GestureDetector</a></li>
                        
                          <li><a title="VelocityTracker类" href="15988105105264.html">VelocityTracker类</a></li>
                        
                          <li><a title="TelephonyManager.java" href="15970492312259.html">TelephonyManager.java</a></li>
                        
                          <li><a title="PackageManagerService.java" href="15948481287731.html">PackageManagerService.java</a></li>
                        
                          <li><a title="JNI调用机制" href="15719841747032.html">JNI调用机制</a></li>
                        
                          <li><a title="ComponentCallbacks和ComponentCallbacks2" href="15959378334016.html">ComponentCallbacks和ComponentCallbacks2</a></li>
                        
                          <li><a title="安卓源码目录结构分析" href="15713661513977.html">安卓源码目录结构分析</a></li>
                        
                          <li><a title="preloaded-classes" href="15717452568747.html">preloaded-classes</a></li>
                        

                    
                      <li class="side-title"><span>Framework</span></li>
                        
                          <li><a title="连接Android和Linux内核的桥梁——Android的Bionic" href="15796625335119.html">连接Android和Linux内核的桥梁——Android的Bionic</a></li>
                        
                          <li><a title="Android的编译环境--Build系统" href="15791618199796.html">Android的编译环境--Build系统</a></li>
                        
                          <li><a title="Android.mk文件" href="15773673300273.html">Android.mk文件</a></li>
                        

                    
                      <li class="side-title"><span>Android内核剖析</span></li>
                        
                          <li><a title="Framework概述" href="15747509659838.html">Framework概述</a></li>
                        
                          <li><a title="Binder" href="15747333089774.html">Binder</a></li>
                        
                          <li><a title="Framework的启动过程" href="15747331308712.html">Framework的启动过程</a></li>
                        

                    
                      <li class="side-title"><span>深入理解Android</span></li>
                        
                          <li><a title="深入理解PackageManagerService" href="16008487631075.html">深入理解PackageManagerService</a></li>
                        
                          <li><a title="深入理解Surface系统" href="16007635680752.html">深入理解Surface系统</a></li>
                        
                          <li><a title="深入理解WindowManagerService" href="16007630337829.html">深入理解WindowManagerService</a></li>
                        
                          <li><a title="深入理解Android输入系统" href="16006883092534.html">深入理解Android输入系统</a></li>
                        
                          <li><a title="3. 连接Android和Linux内核的桥梁--Android的Bionic" href="15826096876760.html">3. 连接Android和Linux内核的桥梁--Android的Bionic</a></li>
                        
                          <li><a title="2.Android的编译环境--Build系统" href="15825987090516.html">2.Android的编译环境--Build系统</a></li>
                        

                    
                      <li class="side-title"><span>Android开发工具</span></li>
                        
                          <li><a title="GPU呈现模式分析" href="16203574480848.html">GPU呈现模式分析</a></li>
                        
                          <li><a title="Android不透明度对应的16进制值" href="16109381219800.html">Android不透明度对应的16进制值</a></li>
                        

                    
                      <li class="side-title"><span>架构</span></li>
                        
                          <li><a title="Android组件化架构" href="16212169719717.html">Android组件化架构</a></li>
                        

                    
                      <li class="side-title"><span>Kotlin</span></li>
                        
                          <li><a title="Kotlin修饰符" href="16220176873496.html">Kotlin修饰符</a></li>
                        
                          <li><a title="Kotlin配置" href="16215019403387.html">Kotlin配置</a></li>
                        
                          <li><a title="Any和Object" href="16202922452879.html">Any和Object</a></li>
                        
                          <li><a title="注意事项" href="16054946011494.html">注意事项</a></li>
                        
                          <li><a title="函数" href="16050787660502.html">函数</a></li>
                        
                          <li><a title="集合框架" href="16050764808062.html">集合框架</a></li>
                        
                          <li><a title="区间" href="16050753339197.html">区间</a></li>
                        
                          <li><a title="数组" href="16050733875473.html">数组</a></li>
                        
                          <li><a title="基本类型数据" href="16050663211604.html">基本类型数据</a></li>
                        

                    
                      <li class="side-title"><span>Git</span></li>
                        
                          <li><a title="git概述" href="15720062741897.html">git概述</a></li>
                        
                          <li><a title="Git按照功能来分类" href="15718356444970.html">Git按照功能来分类</a></li>
                        
                          <li><a title="Git常见用法" href="15607376634694.html">Git常见用法</a></li>
                        

                    
                      <li class="side-title"><span>Java</span></li>
                        
                          <li><a title="Java线程池" href="16041633383721.html">Java线程池</a></li>
                        
                          <li><a title="Java线程" href="16041627017647.html">Java线程</a></li>
                        
                          <li><a title="Java深拷贝和浅拷贝" href="16041605743704.html">Java深拷贝和浅拷贝</a></li>
                        
                          <li><a title="Java异常" href="16041603866147.html">Java异常</a></li>
                        
                          <li><a title="RandomAccessFile" href="16041602871100.html">RandomAccessFile</a></li>
                        
                          <li><a title="Java IO" href="16041584305867.html">Java IO</a></li>
                        
                          <li><a title="LinkedHashMap" href="16041410387995.html">LinkedHashMap</a></li>
                        
                          <li><a title="TreeMap" href="16041410169042.html">TreeMap</a></li>
                        
                          <li><a title="HashMap" href="16041393802858.html">HashMap</a></li>
                        
                          <li><a title="LinkedList" href="16041386256783.html">LinkedList</a></li>
                        
                          <li><a title="ArrayList" href="16041374199121.html">ArrayList</a></li>
                        
                          <li><a title="Java集合类" href="16041330974013.html">Java集合类</a></li>
                        
                          <li><a title="杂记" href="15948431328032.html">杂记</a></li>
                        
                          <li><a title="Java的四种引用变量" href="15877076691357.html">Java的四种引用变量</a></li>
                        
                          <li><a title="MeasureSpec" href="15864726816307.html">MeasureSpec</a></li>
                        
                          <li><a title="Java小知识点" href="15777569350023.html">Java小知识点</a></li>
                        

                    
                      <li class="side-title"><span>设计模式</span></li>
                        
                          <li><a title="设计模式概述" href="15783889880973.html">设计模式概述</a></li>
                        
                          <li><a title="UML(统一建模语言)" href="16230361480088.html">UML(统一建模语言)</a></li>
                        
                          <li><a title="单例模式" href="15897847467736.html">单例模式</a></li>
                        
                          <li><a title="代理模式" href="15900263250197.html">代理模式</a></li>
                        
                          <li><a title="建造者模式" href="15897849590411.html">建造者模式</a></li>
                        
                          <li><a title="工厂方法模式" href="15897849469753.html">工厂方法模式</a></li>
                        
                          <li><a title="简单工厂模式" href="15897849322436.html">简单工厂模式</a></li>
                        
                          <li><a title="简单工厂模式(Simple Factory)" href="15784035954571.html">简单工厂模式(Simple Factory)</a></li>
                        

                    
                      <li class="side-title"><span>数据结构和算法</span></li>
                        
                          <li><a title="List及其子类" href="16038826600526.html">List及其子类</a></li>
                        
                          <li><a title="面试中的算法" href="15970860318982.html">面试中的算法</a></li>
                        
                          <li><a title="排序算法" href="15881272462871.html">排序算法</a></li>
                        
                          <li><a title="树" href="15881273285027.html">树</a></li>
                        
                          <li><a title="数据结构基础" href="15644690293137.html">数据结构基础</a></li>
                        
                          <li><a title="算法概述" href="15644655646063.html">算法概述</a></li>
                        

                    
                      <li class="side-title"><span>网络爬虫</span></li>
                        
                          <li><a title="爬虫--基本库的使用" href="15660531164999.html">爬虫--基本库的使用</a></li>
                        
                          <li><a title="爬虫概述" href="15660114926379.html">爬虫概述</a></li>
                        

                    
                      <li class="side-title"><span>计算机网络</span></li>
                        
                          <li><a title="图解HTTP--第一章--了解Web及网络基础" href="16023212652925.html">图解HTTP--第一章--了解Web及网络基础</a></li>
                        
                          <li><a title="图解HTTP--第九章--基于http的功能追加协议" href="15855764881285.html">图解HTTP--第九章--基于http的功能追加协议</a></li>
                        
                          <li><a title="图解HTTP--第八章--确认访问用户身份的认证" href="15855764130446.html">图解HTTP--第八章--确认访问用户身份的认证</a></li>
                        
                          <li><a title="图解HTTP--第七章--确保web安全的https" href="15855763389947.html">图解HTTP--第七章--确保web安全的https</a></li>
                        
                          <li><a title="图解HTTP--第六章--http首部" href="15855761102550.html">图解HTTP--第六章--http首部</a></li>
                        
                          <li><a title="图解HTTP--第五章--与HTTP协作的Web服务器" href="15855728450260.html">图解HTTP--第五章--与HTTP协作的Web服务器</a></li>
                        
                          <li><a title="图解HTTP--第四章--返回结果的http状态码" href="15855701437164.html">图解HTTP--第四章--返回结果的http状态码</a></li>
                        
                          <li><a title="图解HTTP--第三章--HTTP报文内的HTTP信息" href="15853911594446.html">图解HTTP--第三章--HTTP报文内的HTTP信息</a></li>
                        
                          <li><a title="图解HTTP--第二章--简单的HTTP协议" href="15853261274339.html">图解HTTP--第二章--简单的HTTP协议</a></li>
                        
                          <li><a title="TCP/IP" href="15852402680558.html">TCP/IP</a></li>
                        
                          <li><a title="HTTP和HTTPS" href="15850526868228.html">HTTP和HTTPS</a></li>
                        
                          <li><a title="计算机网络第五版--第二章" href="15849271154228.html">计算机网络第五版--第二章</a></li>
                        
                          <li><a title="计算机网络第五版--第一章" href="15846863033375.html">计算机网络第五版--第一章</a></li>
                        
                          <li><a title="ping命令" href="15832390905461.html">ping命令</a></li>
                        
                          <li><a title="基础" href="15650980568729.html">基础</a></li>
                        

                    
                      <li class="side-title"><span>计算机基础</span></li>
                        
                          <li><a title="简单常识" href="15955796448880.html">简单常识</a></li>
                        
                          <li><a title="地图基础知识" href="15953376818758.html">地图基础知识</a></li>
                        
                          <li><a title="Java语言中注意事项" href="15906748975501.html">Java语言中注意事项</a></li>
                        
                          <li><a title="术语" href="15831479672487.html">术语</a></li>
                        
                          <li><a title="HTTP基本原理" href="15659232055748.html">HTTP基本原理</a></li>
                        

                    
                      <li class="side-title"><span>Linux系统</span></li>
                        
                          <li><a title="基础简述" href="15719238641803.html">基础简述</a></li>
                        

                    
                      <li class="side-title"><span>React-Native</span></li>
                        
                          <li><a title="ScrollView组件" href="15622306484069.html">ScrollView组件</a></li>
                        
                          <li><a title="组件的生命周期" href="15621446974979.html">组件的生命周期</a></li>
                        
                          <li><a title="TextInput组件" href="15621338635960.html">TextInput组件</a></li>
                        
                          <li><a title="遇到的问题" href="15620469922995.html">遇到的问题</a></li>
                        
                          <li><a title="组件" href="15617091937336.html">组件</a></li>
                        
                          <li><a title="React-Native零碎" href="15616187358724.html">React-Native零碎</a></li>
                        
                          <li><a title="react-navigation" href="15584071613702.html">react-navigation</a></li>
                        

                    
                      <li class="side-title"><span>随想</span></li>
                        
                          <li><a title="整理的体系" href="16031941250957.html">整理的体系</a></li>
                        
                          <li><a title="需要后续查看的东西" href="15893692089911.html">需要后续查看的东西</a></li>
                        
                          <li><a title="to be a free man" href="15605804886383.html">to be a free man</a></li>
                        
                          <li><a title="for" href="15583472660662.html">for</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>Activity</h1>

<ul>
<li>
<a href="#toc_0">Activity生命周期</a>
<ul>
<li>
<a href="#toc_1">Activity页面跳转</a>
<ul>
<li>
<a href="#toc_2">1 . 两个普通Activity页面的跳转</a>
</li>
<li>
<a href="#toc_3">2 . Activity设置启动模式为singleTop，并跳转至自身</a>
</li>
<li>
<a href="#toc_4">3 . 跳转到透明的Activity</a>
</li>
<li>
<a href="#toc_5">4 . 跳转到Theme为Dialog的页面</a>
</li>
</ul>
</li>
<li>
<a href="#toc_6">横竖屏切换时的生命周期</a>
</li>
<li>
<a href="#toc_7">锁屏与解锁屏幕进入Activity的生命周期</a>
</li>
<li>
<a href="#toc_8">不同场景下Activity生命周期的变化过程</a>
</li>
<li>
<a href="#toc_9">将一个Activity设置为窗口的样式</a>
</li>
<li>
<a href="#toc_10">退出已调用多个Activity的应用</a>
</li>
<li>
<a href="#toc_11">修改Activity进入和退出动画</a>
</li>
<li>
<a href="#toc_12">Activity的四种状态</a>
</li>
<li>
<a href="#toc_13">如何处理异常退出</a>
</li>
<li>
<a href="#toc_14">什么是onNewIntent()</a>
</li>
</ul>
</li>
<li>
<a href="#toc_15">控制Activity的生命周期</a>
</li>
<li>
<a href="#toc_16">Activity启动模式</a>
<ul>
<li>
<a href="#toc_17">standard（标准/默认模式）</a>
</li>
<li>
<a href="#toc_18">singleTop（栈顶复用模式）</a>
</li>
<li>
<a href="#toc_19">singleTask（栈内复用模式）</a>
</li>
<li>
<a href="#toc_20">singleInstance（单实例模式）</a>
</li>
<li>
<a href="#toc_21">特殊情况--前台栈和后台栈的交互</a>
</li>
<li>
<a href="#toc_22">设置启动模式的方式</a>
<ul>
<li>
<a href="#toc_23">FLAG_ACTIVITY_SINGLE_TOP</a>
</li>
<li>
<a href="#toc_24">FLAG_ACTIVITY_NEW_TASK:</a>
</li>
<li>
<a href="#toc_25">FLAG_ACTIVITY_CLEAR_TOP:</a>
</li>
</ul>
</li>
<li>
<a href="#toc_26">启动模式注意事项</a>
</li>
<li>
<a href="#toc_27">快速启动一个Activity</a>
</li>
</ul>
</li>
<li>
<a href="#toc_28">Activity中数据相关</a>
<ul>
<li>
<a href="#toc_29">Activity 间通过 Intent 传递数据大小限制</a>
</li>
<li>
<a href="#toc_30">内存不足时系统会杀掉后台的Activity，若需要进行一些临时状态的保存，在哪个方法进行</a>
</li>
<li>
<a href="#toc_31">onSaveInstanceState() 被执行的场景</a>
</li>
<li>
<a href="#toc_32">两个 Activity 之间跳转时必然会执行的方法</a>
</li>
<li>
<a href="#toc_33">用 Intent 去启动一个Activity 之外的方法</a>
</li>
<li>
<a href="#toc_34">scheme 跳转协议</a>
<ul>
<li>
<a href="#toc_35">scheme 定义</a>
</li>
<li>
<a href="#toc_36">scheme 协议格式</a>
</li>
<li>
<a href="#toc_37">scheme 使用</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#toc_38">注意事项</a>
</li>
</ul>


<p>&emsp;&emsp;Activity是Context的子类；</p>

<h2 id="toc_0">Activity生命周期</h2>

<p>&emsp;&emsp;在Android系统中使用生命周期描述组件在不同状态之间的切换。通过管理组件的生命周期实现资源的获取与释放，在不同阶段的生命周期中触发相应的回调函数，在回调函数的上层方法中，系统控制组件的创建与销毁。Activity作为组件之一，也有着一套有序的生命周期，管理Activity的全部行为。<br/>
&emsp;&emsp;Activity的生命周期如下图所示：<br/>
<img src="../asset/img/Activity%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F.jpg" alt="Activity声明周期"/><br/>
<img src="media/15598792154683/Activity%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.jpg" alt="Activity生命周期"/></p>

<pre class="line-numbers"><code class="language-java">//Activity的创建;
protected void onCreate(Bundle savedInstanceState);
//Activity的启动;
protected void onStart();
//Activity的运行;
protected void onResume();
//Activity的暂停;
protected void onPause();
//Activity的停止;
protected void onStop();
//Activity的销毁;
protected void onDestroy();
//Activity的重启;
protected void onRestart();
</code></pre>

<p>&emsp;&emsp;除了onRestart()方法之外，另外六种生命周期两两对应，构成了三组生命周期。这三组分别是完整的生命周期(Entire Lifetime)、可视的生命周期(Visible Lifetime)以及前台的生命周期（Foreground Lifetime）。<br/>
1.完整的生命周期： 表示Activity组件从创建到销毁的全部过程，是最外层的生命周期。生命周期发生在调用onCreate()方法与调用onDestroy()方法之间。在onCreate()方法中，系统会创建Activity的全局状态，例如填充布局等；在onDestroy()方法中，系统会释放Activity所保存的资源。需要注意的是，onDestroy()不能保证被调用的时机，例如Activity在Activity栈中，在系统内存不足时，就可能触发强制销毁调用onDestroy()方法，而在其他情况下，只有当Activity出栈时，才会调用onDestroy()方法。<br/>
2.可视的生命周期：表示Activity组件从用户可视到离开用户视线的全过程。在这期间，用户可以在屏幕上看见当前的Activity。生命周期发生在调用onStart()方法与onStop()方法之间。在onStart()方法和onStop()方法中，执行与用户可视相关的逻辑。因为onDestroy()方法并不一定会被调用，所以在onStop()方法中，一般会执行保持当前Activity状态的逻辑。在Activity的全部存活时间中，onStart()方法和onStop()方法可能会被多次调用，这是因为Activity可能交替地由可视状态到不可视状态，再恢复到可视状态。<br/>
3.前台的生命周期：表示Activity组件显示于其他Activity组件之前，即位于Activity任务栈的栈顶，拥有最高优先级的资源使用权限，同时可以获得用户的输入焦点与用户进行交互。在可视的生命周期中，Activity组件可能位于全透明或部分透明的Activity下面，即属于可视状态。而前台状态必须位于全部的Activity之上。生命周期发生在调用onResume()方法与onPause()方法之间。在onResume()方法和onPause()方法中，执行与交互相关的逻辑。同样，在Activity的全部存活时间中，onResume()和onPause()也可能会被多次调用，即Activity可能会频繁地获取与失去焦点。<br/>
&emsp;&emsp;onPause()方法控制Activity是否具有交互功能，onStop()方法控制Activity是否可视。<br/>
&emsp;&emsp;还有另外三个特殊的生命周期状态，即onRestart()、onRestoreInstanceState()、onSaveInstanceState()。当页面从Activity栈内调至栈顶时，会调用onRestart()方法，初次创建时不会调用；onSaveInstanceState()用于储存Activity的状态信息；onRestoreInstanceState()用于恢复Activity的状态信息，仅用于系统导致的页面重建，而用户导致的页面重建需要在onCreate()中由开发者自主恢复状态信息。<br/>
&emsp;&emsp;当系统配置发生改变时，Activity页面就会触发重建过程，因为系统配置会导致页面的某些参数发生变化，显示样式不同。最常见的是旋转屏幕，因为这次变化是由系统控制产生关闭和启动Activity的行为触发生命周期，所以Activity页面不仅会调用onSaveInstanceState()触发保存数据，还会同步执行onRestoreInstanceState()恢复数据，保证数据的一致性。onSaveInstanceState()方法在停止交互（即onPause()方法）之后执行，确保用户不进行额外的输入。onRestoreInstanceState()方法在可交互方法（即onResume()方法）之前执行，确保数据的正确恢复。<br/>
&emsp;&emsp;如果Activity需要恢复状态数据，在恢复时机的选择上，可以选择onCreate()或onRestoreInstanceState()。区别是：在onCreate()中，需要判断传入参数savedInstanceState是否为空；对于由系统原因导致的Activity页面变化，触发的生命周期改变，推荐使用onRestoreInstanceState()恢复数据，针对性更强。因为onCreate()在每次Activity重建时，都会被调用，无法区分是否因系统原因导致。在onCreate()中，恢复状态时要先对savedInstanceState判断是否为空，再进行操作。</p>

<h3 id="toc_1">Activity页面跳转</h3>

<h4 id="toc_2">1 . 两个普通Activity页面的跳转</h4>

<p>&emsp;&emsp;我们从一个Activity(FirstActivity)使用startActivity()方法跳转到另一个Activity(SecondActivity)的时候的生命周期。<br/>
<strong>(1) . 先进入到FirstActivity页面：</strong></p>

<pre class="line-numbers"><code class="language-java">FirstActivity: onCreate...
FirstActivity: onStart...
FirstActivity: onResume...
</code></pre>

<p><strong>(2) . 从FirstActivity页面跳转到SecondActivity页面：</strong></p>

<pre class="line-numbers"><code class="language-java">FirstActivity: onPause...
SecondActivity: onCreate...
SecondActivity: onStart...
SecondActivity: onResume...
FirstActivity: onStop...
</code></pre>

<p><strong>(3) . 从SecondActivity页面点击返回键回到FirstActivity页面：</strong></p>

<pre class="line-numbers"><code class="language-java">SecondActivity: onPause...
FirstActivity: onRestart...
FirstActivity: onStart...
FirstActivity: onResume...
SecondActivity: onStop...
SecondActivity: onDestroy...
</code></pre>

<h4 id="toc_3">2 . Activity设置启动模式为singleTop，并跳转至自身</h4>

<p>&emsp;&emsp;在实际工作中，比如商品的详情页DetailActivity，我们可能会点击该页面的推荐商品，还是跳转到该页面，只是传过去的值不一样，页面内容展示不一样而已。这种情况下，我们会把该页面的启动模式设置为singleTop，不让其产生太多的页面，不然我们打开了好多个DetailActivity页面以后，想要退出，需要关闭好多个页面。这里，我们要关注下把页面启动模式设置为singleTop以后，页面的方法调用会使用一个onNewIntent()方法。<br/>
<strong>(1) . 进入到DetailActivity页面</strong></p>

<pre class="line-numbers"><code class="language-java">DetailActivity: onCreate...
DetailActivity: onStart...
DetailActivity: onResume...
</code></pre>

<p><strong>(2) . 从自身跳转到自身的DetailActivity页面</strong></p>

<pre class="line-numbers"><code class="language-java">DetailActivity: onPause...
DetailActivity: onNewIntent...
DetailActivity: onResume...
</code></pre>

<p><strong>(3) . 退出DetailActivity页面</strong></p>

<pre class="line-numbers"><code class="language-java">DetailActivity: onPause...
DetailActivity: onStop...
DetailActivity: onDestroy...
</code></pre>

<h4 id="toc_4">3 . 跳转到透明的Activity</h4>

<p>&emsp;&emsp;如果我们要跳转的页面是一个透明的页面TransparentActivity，因为TransparentActivity是透明的，也就是上一个页面的内容我们还是可以看到的，上个页面的onStop()方法不会被执行的。<br/>
&emsp;&emsp;需要注意的是，这里说的透明页面，并不是说百分百透明的，而是只要稍微透明度有一点，就算作了透明页面。其次，一般我们使用的是Theme.AppCompat这个主题下面的具体主题，所以我们设置透明页面的时候，如果是要通过设置Theme属性来设置透明度的时候，需要自己来定义一个Theme来设置透明度。</p>

<pre class="line-numbers"><code class="language-java">//styles.xml文件;
&lt;style name=&quot;MyTransparentTheme&quot; parent=&quot;AppTheme&quot;&gt;
    &lt;item name=&quot;android:windowBackground&quot;&gt;@color/colorTransparent_15&lt;/item&gt; &lt;!-- 背景色透明度 --&gt;
    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;&lt;!-- 无标题 --&gt;
    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;&lt;!-- 半透明,设置为false无透明效果 --&gt;
    &lt;item name=&quot;android:backgroundDimEnabled&quot;&gt;true&lt;/item&gt;&lt;!-- 模糊 --&gt;
    &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@android:style/Animation.Translucent&lt;/item&gt; &lt;!-- 窗口样式Dialog --&gt;
&lt;/style&gt;

//colors.xml文件；
&lt;color name=&quot;colorTransparent_15&quot;&gt;#D9ffffff&lt;/color&gt;

//AndroidManifest.xml文件；
&lt;activity android:name=&quot;.activities.TransparentActivity&quot;
    android:theme=&quot;@style/MyTransparentTheme&quot;
    &gt;
&lt;/activity&gt;
</code></pre>

<p><strong>(1) . 进入第一个页面</strong></p>

<pre class="line-numbers"><code class="language-java">FirstActivity: onCreate...
FirstActivity: onStart...
FirstActivity: onResume...
</code></pre>

<p><strong>(2) . 跳转到透明页面</strong></p>

<pre class="line-numbers"><code class="language-java">FirstActivity: onPause...
TransparentActivity: onCreate...
TransparentActivity: onStart...
TransparentActivity: onResume...
</code></pre>

<p><strong>(3) . 退出透明页面</strong></p>

<pre class="line-numbers"><code class="language-java">TransparentActivity: onPause...
FirstActivity: onResume...
TransparentActivity: onStop...
TransparentActivity: onDestroy...
</code></pre>

<h4 id="toc_5">4 . 跳转到Theme为Dialog的页面</h4>

<p>&emsp;&emsp;当跳转到一个Theme为Dialog的页面(DialogActivity)，其实生命周期和跳转到一个透明的页面是一样的，因为Theme为Dialog的页面和透明页面都不会把前一个Activity的内容完全遮盖住不让其显示出来。</p>

<p>(1) . 进入第一个页面</p>

<pre class="line-numbers"><code class="language-java">ActivityAllActivity: onCreate...
ActivityAllActivity: onStart...
ActivityAllActivity: onResume...
</code></pre>

<p>(2) . 跳转到Theme为Dialog的页面</p>

<pre class="line-numbers"><code class="language-java">ActivityAllActivity: onPause...
DialogActivity: onCreate...
DialogActivity: onStart...
DialogActivity: onResume...
</code></pre>

<p>(3) . 退出Theme为Dialog的页面</p>

<pre class="line-numbers"><code class="language-java">DialogActivity: onPause...
ActivityAllActivity: onResume...
DialogActivity: onStop...
DialogActivity: onDestroy...
</code></pre>

<ul>
<li>如果是单纯是创建的 dialog ，Activity 并不会执行生命周期的方法;</li>
<li>但是如果是跳转到一个不是全屏的 Activity 的话, 当然就是按照正常的生命周期来执行了，即 onPasue() -&gt; onPause() (  不会执行原 Activity 的 onStop() , 否则上个页面就不显示了 );</li>
</ul>

<h3 id="toc_6">横竖屏切换时的生命周期</h3>

<p>&emsp;&emsp;不设置Activity的android:configChanges时，切屏会重新调用各个生命周期，切横屏时会执行一次，切竖屏时会执行一次；设置Activity的android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;时，切屏不会重新调用各个生命周期，只会执行onConfigurationChanged 方法；<br/>
&emsp;&emsp;注意：还有一点，非常重要，一个Android的变更细节！当 API &gt;12 时，需要加入screenSize属性，否则屏幕切换时即使你设置了orientation系统也会重建 Activity；</p>

<p>&emsp;&emsp;<strong>未设置configuration属性时，Activity生命周期如下：</strong><br/>
&emsp;&emsp;在AndroidManifest.xml中不设置Activity的android:configChanges的话，在横竖屏切换的时候，Activity会进行销毁再重建的过程。</p>

<p><strong>(1) . 刚进入ConfigurationActivity页面时，页面为竖屏</strong></p>

<pre class="line-numbers"><code class="language-java">ConfigurationActivity: onCreate...
ConfigurationActivity: onStart...
ConfigurationActivity: onResume...
</code></pre>

<p><strong>(2) . 由竖屏切换到横屏时</strong></p>

<pre class="line-numbers"><code class="language-java">ConfigurationActivity: onPause...
ConfigurationActivity: onStop...
ConfigurationActivity: onDestroy...
ConfigurationActivity: onCreate...
ConfigurationActivity: onStart...
ConfigurationActivity: onResume...
</code></pre>

<p><strong>(3) . 由横屏再次切换到竖屏</strong></p>

<pre class="line-numbers"><code class="language-java">ConfigurationActivity: onPause...
ConfigurationActivity: onStop...
ConfigurationActivity: onDestroy...
ConfigurationActivity: onCreate...
ConfigurationActivity: onStart...
ConfigurationActivity: onResume...
</code></pre>

<p><strong>设置了configuration属性以后，Activity的生命周期如下：</strong><br/>
&emsp;&emsp;在AndroidManifest.xml文件中设置ConfigurationActivity的android:configChanges属性如下：</p>

<pre class="line-numbers"><code class="language-java">android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;
</code></pre>

<p>&emsp;&emsp;那么Activity在切换横屏和竖屏的时候，并不会销毁Activity再重建，而是执行onConfigurationChanged（）方法。</p>

<p><strong>(1) . 刚进入页面时，页面是竖屏</strong></p>

<pre class="line-numbers"><code class="language-java">ConfigurationActivity: onCreate...
ConfigurationActivity: onStart...
ConfigurationActivity: onResume...
</code></pre>

<p><strong>(2) . 由竖屏切换到横屏</strong></p>

<pre class="line-numbers"><code class="language-java">ConfigurationActivity: onConfigurationChanged...
</code></pre>

<p><strong>(3) . 由横屏再次切换到竖屏</strong></p>

<pre class="line-numbers"><code class="language-java">ConfigurationActivity: onConfigurationChanged...
</code></pre>

<p>&emsp;&emsp;<strong>我们可以通过在AndroidManifest.xml文件中的Activity标签中设置android:screenOrientation属性来控制屏幕的竖屏或者横屏。</strong><br/>
&emsp;&emsp;当我们把屏幕模式设置为竖屏或者横屏以后，不管android:configChanges是否设置，Activity都不会再经历销毁重建或者调用onConfigurationChanged()方法了。</p>

<p>(1) . 要想让屏幕一直是竖屏模式，就在AndroidManifest.xml文件中的Activity标签中设置如下代码：</p>

<pre class="line-numbers"><code class="language-java">android:screenOrientation=&quot;portrait&quot;
</code></pre>

<p>(2) . 要想让屏幕一直是横屏模式，就在AndroidManifest.xml文件中的Activity标签中设置如下代码：</p>

<pre class="line-numbers"><code class="language-java">android:screenOrientation=&quot;landscape&quot;
</code></pre>

<h3 id="toc_7">锁屏与解锁屏幕进入Activity的生命周期</h3>

<p>(1) . 进入到页面</p>

<pre class="line-numbers"><code class="language-java">ActivityAllActivity: onCreate...
ActivityAllActivity: onStart...
ActivityAllActivity: onResume...
</code></pre>

<p>(2) . 锁屏以后，屏幕熄灭</p>

<pre class="line-numbers"><code class="language-java">ActivityAllActivity: onPause...
ActivityAllActivity: onStop...
</code></pre>

<p>(3) . </p>

<pre class="line-numbers"><code class="language-java">ActivityAllActivity: onRestart...
ActivityAllActivity: onStart...
ActivityAllActivity: onResume...
</code></pre>

<p>(4) . 退出该页面</p>

<pre class="line-numbers"><code class="language-java">ActivityAllActivity: onPause...
ActivityAllActivity: onStop...
ActivityAllActivity: onDestroy...
</code></pre>

<p>&emsp;&emsp;锁屏时会执行 onPause() -&gt; onStop()，而亮屏进入到Activity页面时则执行 onRestart() -&gt; onStart() -&gt; onResume()。</p>

<h3 id="toc_8">不同场景下Activity生命周期的变化过程</h3>

<p>启动 Activity ：onCreate() ---&gt; onStart() ---&gt; onResume() ，Activity 进入运行状态。<br/>
<font color=green>锁屏时会执行 onPause() 和 onStop() , 而开屏时则应该执行 onStart()  onResume()(需要进行实验)</font><br/>
Activity 退居后台：当前 Activity 转到新的 Activity 界面或按 Home 键回到主屏：onPause() ---&gt; onStop() ，进入停滞状态。<br/>
Activity 返回前台：onRestart() ---&gt; onStart() ---&gt; onResume() ，再次回到运行状态。<br/>
Activity 退居后台：且系统内存不足， 系统会杀死这个后台状态的 Activity ，若再次回到这个 Activity ,则会走 onCreate() --&gt; onStart() ---&gt; onResume()</p>

<h3 id="toc_9">将一个Activity设置为窗口的样式</h3>

<p>&emsp;&emsp;因为我们的Activity一般是继承自AppCompatActivity，因此我们需要设置主题为Theme.AppCompat主题目录下的主题。也就是我们在Activity中使用的主题需要和我们使用的Activity的父类相关联。因此，给我们在AndroidManifest.xml文件中的Activity设置的Theme如下:</p>

<pre class="line-numbers"><code class="language-java">android:theme=&quot;@style/Theme.AppCompat.Dialog&quot;
</code></pre>

<p>&emsp;&emsp;在Theme.AppCompat主题目录下有好几种Dialog的主题，在这里我们只是选择了其中的一种。不同的Dialog主题影响的是Activity的外观样式。</p>

<h3 id="toc_10">退出已调用多个Activity的应用</h3>

<ol>
<li>发送特定广播:<br/>
在需要结束应用时, 发送一个特定的广播,每个 Activity 收到广播后,关闭 即可。<br/>
给某个 activity 注册接受接受广播的意图 registerReceiver(receiver, filter)<br/>
如果过接受到的是 关闭 activity 的广播 activity finish() 掉</li>
<li>递归退出<br/>
就调用 finish() 方法 把当前的 Activity 退出<br/>
在打开新的 Activity 时使用 startActivityForResult , 然后自己加标志, 在 onActivityResult 中处理, 递归关闭。</li>
<li>利用 flag<br/>
也可以通过 intent 的 flag 来实现 intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP) 激活一个新的 activity。<br/>
此时如果该任务栈中已经有该 Activity , 那么系统会把这个 Activity 上面的所有 Activity 干掉。其实相当于给 Activity 配置的启动模式为 singleTask 。</li>
<li>记录打开的 Activity<br/>
每打开一个 Activity , 就记录下来。<br/>
在需要退出时 , 关闭每一个 Activity<br/>
&emsp;&emsp;不过，我一般使用的方法是把主界面设置为singleTask，这样每次返回主页面时都只剩下主界面这一个Activity，在主界面退出时，也就相当于退出了整个应用。</li>
</ol>

<h3 id="toc_11">修改Activity进入和退出动画</h3>

<p>可以通过两种方式:</p>

<ul>
<li>通过定义 Activity 的主题:<br/>
&emsp;&emsp;通过设置主题样式在 styles.xml 中编辑代码,  添加 themes.xml 文件，在 AndroidManifest.xml 中给指定的 Activity 指定 theme。</li>
<li>通过覆写 Activity 的overridePendingTransition 方法：</li>
</ul>

<pre class="line-numbers"><code class="language-java">overridePendingTransition(R.anim.fade, R.anim.hold);
</code></pre>

<h3 id="toc_12">Activity的四种状态</h3>

<ul>
<li>runnig ：用户可以点击，activity 处于栈顶状态。</li>
<li>paused ：activity 失去焦点的时候，被一个非全屏的 activity 占据或者被一个透明的 activity 覆盖，这个状态的 activity 并没有销毁，它所有的状态信息和成员变量仍然存在，只是不能够被点击。(内存紧张的情况，这个 activity 有可能被回收)</li>
<li>stopped ：这个 activity 被另外一个 activity 完全覆盖，但是这个 activity 的所有状态信息和成员变量仍然存在(除了内存紧张)</li>
<li>killed ：这个 activity 已经被销毁，其所有的状态信息和成员变量已经不存在了。</li>
</ul>

<h3 id="toc_13">如何处理异常退出</h3>

<p>&emsp;&emsp;Activity 异常退出的时候 --&gt; onPause() --&gt; onSaveInstanceState() --&gt; onStop() --&gt; onDestory()。需要注意的是 onSaveInstanceState() 方法与 onPause 并没有严格的先后关系，有可能在 onPause 之前，也有可能在其后面调用，但会在 onStop() 方法之前调用。异常退出后又重新启动该 Activity  --&gt; onCreate() --&gt; onStart() --&gt; onRestoreInstanceState() --&gt; onResume()。<br/>
&emsp;&emsp;需要注意的是 onSaveInstanceState() 方法与 onPause 并没有严格的先后关系，有可能在 onPause 之前，也有可能在其后面调用，但会在 onStop() 方法之前调用<br/>
异常退出后又重新启动该 Activity  --&gt; onCreate() --&gt; onStart() --&gt; onRestoreInstanceState() --&gt; onResume()。</p>

<h3 id="toc_14">什么是onNewIntent()</h3>

<p>&emsp;&emsp;onNewIntent()方法是Activity.java类中的方法。当Activity的启动模式为SingleTask或者SingleTop时，当该Activity已经存在并且要进行复用时，就会调用该方法。启动模式为SingleInstance时，也会调用该方法。<br/>
&emsp;&emsp;如果Activity 处于任务栈的顶端，也就是说之前打开过的 Activity ，现在处于 onPause 、 onStop 状态的话，其他应用再发送 Intent 的话<br/>
执行顺序为：onNewIntent，onRestart，onStart，onResume。</p>

<h2 id="toc_15">控制Activity的生命周期</h2>

<ul>
<li><font color=red>强制执行单任务模式</font>:</li>
<li><font color=red>强制手机屏幕方向</font>:<br/>
&emsp;&emsp;几乎所有的Android设备都带有加速度计，这使得该设备可以判断方向，当设备的屏幕在横向和纵向模式之间切换时，系统默认的动作是相应地旋转应用程序的视图。 <br/>
&emsp;&emsp;默认情况下，当手机屏幕方向改变时，Activity将被结束然后再重新启动，也就是会执行onPause()--onStop()--onDestroy()--onCreate()--onStart()--onResume()这几个方法，会使该应用丢失当前的状态。<br/>
&emsp;&emsp;对于屏幕改变方向的问题，Android提供了两种解决方案，一种是在改变方向之前保存用户的状态，然后再重启该Activity时恢复先前的用户状态。另一种方法是强制屏幕方向，禁止旋转切换应用程序的视图。<br/>
&emsp;&emsp;这里介绍第二种方法：在AndroidManifest.xml中事先指定某个Activity的固定视图方法以达到目的，如下：</li>
</ul>

<table>
<thead>
<tr>
<th style="text-align: center">Activity视图模式</th>
<th>方法</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">纵向模式</td>
<td>android:screenOrientation=&quot;portrait&quot;</td>
</tr>
<tr>
<td style="text-align: center">横向模式</td>
<td>android:screenOrientation=&quot;landscape&quot;</td>
</tr>
</tbody>
</table>

<p>&emsp;&emsp;不过只是设置了Activity的视图模式，在旋转手机屏幕后，视图始终保持设定好的视图模式，但是Activity还是会经历onPause()--onStop()--onDestroy()方法，还是没有解决Activity状态丢失的问题。也就是说，设置Android:screenOrientation属性只能使得应用程序始终保持指定的方向，并不能防止Activity的重新启动。要实现Activity在屏幕方向改变时不被重启，还需要在AndroidManifest.xml中设置android:configChanges属性告诉系统对应用程序方向的改变进行处理而不是重启应用程序。代码如下：</p>

<pre class="line-numbers"><code class="language-java">android:configChanges=&quot;orientation|keyboardHidden&quot;
</code></pre>

<p>设置好上述属性之后，当屏幕方向改变或硬键盘滑出时，Android将不会重启Activity，而是调用onConfigurationChange()方法对事件进行处理。</p>

<pre class="line-numbers"><code class="language-java">@Override
public void onConfigurationChanged(Configuration newConfig){
    super.onConfigurationChanged(newConfig);
    
}
</code></pre>

<ul>
<li><font color=red>保存和恢复Activity的信息</font>:
&emsp;&emsp;为Activity实现这一功能的方法就是onSaveInstanceState()和onRestoreInstanceState()。当一个Activity即将被程序杀死时，可以通过重写onSaveInstanceState()方法来保存需要保存的相关信息。当重新创建该Activity后，之前onSaveInstanceState()方法保存的状态信息将通过Bundle传递给onCreate()方法，然后就可以利用onRestoreInstanceState()方法来恢复之前的状态信息了。<br/>
&emsp;&emsp;值得注意的是，onSaveInstanceState()并不总是在Activity被销毁前都会被调用，当系统未经用户允许时销毁了该Activity，则onSaveInstanceState()方法将会被系统调用，这是系统的责任，因为它必须要提供一个机会让用户保存必要的数据。<br/>
&emsp;&emsp;以下几种情况，系统会调用onSaveInstanceState()方法：<br/>
1.当用户按下Home键，系统不知道用户在按下Home键之后要运行多少其他程序，自然也不知道当前Activity是否会被销毁，故系统会调用onSaveInstanceState()方法，让用户有机会保存某些非永久性的数据；<br/>
2.长按Home键或者Menu键（具体看手机厂商的定义），选择运行其他程序；<br/>
3.按下电源键，是手机设备处于屏保状态；<br/>
4.屏幕方向切换，而用户并未设置configChanges属性指定系统处理该事件时，系统会销毁当前Activity，在屏幕切换后自动创建该Activity，所以onSaveInstanceState()方法一定会被执行；<br/>
&emsp;&emsp;当然，也要注意，onSaveInstanceState()方法和onRestoreInstanceState()并不一定被成对调用；</li>
</ul>

<h2 id="toc_16">Activity启动模式</h2>

<p>&emsp;&emsp;<strong>为了实现Activity复用，Android系统提供了Activity的启动模式，即LaunchMode，可以根据情况选择创建还是复用实例。启动模式一共四种：standard（标准模式，默认）、singleTop（栈顶复用模式）、singleTask（栈内复用模式）、singleInstance（单实例模式）。标准模式在每次启动时都会创建Activity实例，其他三种模式会根据情况选择创建还是复用实例。在Activity启动中，创建实例的生命周期为onCreate()-&gt;onStart()-&gt;onResume()；重用实例的生命周期为onNewIntent()-&gt;onResume()。可以在AndroidManifest.xml中通过给<activity>标签指定android:launchMode属性来设置启动模式，默认是标准模式；使用taskAffinity属性并添加包名，即可设置Activity栈，默认是当前包名，此属性仅适用于三种单例模式。</strong></p>

<h3 id="toc_17">standard（标准/默认模式）</h3>

<p>&emsp;&emsp;是活动默认的启动模式，在不进行显示指定的情况下，所有活动都会自动使用这种启动模式。在standard模式（即默认情况）下，每当启动一个新的活动，就会创建一个新的Activity实例，它就会在返回栈中入栈，并处于栈顶的位置。对于使用standard模式的活动，系统不会在乎这个活动是否已经在返回栈中存在，每次启动都会创建该活动的一个新的实例。每次被创建的实例 Activity 的生命周期符合典型情况，它的 onCreate 、onStart 、onResume 都会被调用。<br/>
&emsp;&emsp;应用场景：<br/>
&emsp;&emsp;绝大多数Activity。如果以这种方式启动的Activity被跨进程调用，在Android 5.0 之前新启动的Activity实例会放入发送Intent的Task的栈的顶部，尽管它们属于不同的程序；在Android 5.0 之后，会创建一个新的Task，新启动的Activity就会放入刚创建的Task中。</p>

<h3 id="toc_18">singleTop（栈顶复用模式）</h3>

<p>&emsp;&emsp;当活动的启动模式指定为singleTop时，只有当Acticity位于栈顶时，再次启动当前的Activity，复用栈顶的Activity实例，不会重新创建，即单例模式，会调用onNewIntent()方法，而不是执行Activity的其它生命周期；如果位于栈内，与standard标准模式相同，仍然会重新创建实例。当位于栈顶的 Activity 被直接复用时，它的 onCreate 、onStart 不会被系统调用，由于它并没有发生改变。可是一个新的方法 onNewIntent 会被回调（ Activity 被正常创建时不会回调此方法）。<br/>
&emsp;&emsp;应用场景：<br/>
&emsp;&emsp;（1）常见的是应用的产品详情页面，当从一个产品的详情页面内跳转到另一个产品的详情页面时，复用同一个页面。<br/>
&emsp;&emsp;（2）在通知栏点击收到的通知，然后需要启动一个Activity，这个Activity一般会使用singleTop，否则每次点击进来都会新建一个Activity。<br/>
&emsp;&emsp;注意：可能会发生在某个场景下快速点击，启动了两个Activity。这就相当于一个Bug，那么我们也可以使用singleTop模式来避免这个Bug。<br/>
&emsp;&emsp;如果是外部程序启动singleTop的Activity，在Android 5.0 之前新创建的Activity会位于调用者的Task中，Android 5.0 之后的会放入新的Task中。</p>

<h3 id="toc_19">singleTask（栈内复用模式）</h3>

<p>&emsp;&emsp;该模式是一种单例模式，即一个栈内只有一个该Activity实例。该模式可以通过在AndroidManifest.xml文件中指定该Activity需要加载到哪个栈中，即singleTask的Activity可以指定想要加载的目标栈。singleTask和taskAffinity属性配合使用，指定启动的Activity加入到哪个栈中。</p>

<pre class="line-numbers"><code class="language-java">&lt;activity android:name=&quot;.ui.DemoActivity&quot;
    android:launchMode=&quot;singleTask&quot;
    android:taskAffinity=&quot;com.example.kang&quot;
    &gt;
&lt;/activity&gt;
</code></pre>

<p>&emsp;&emsp;taskAffinity：每个Activity都有taskAffinity属性，这个属性指出了Activity想要进入的Task。如果一个Activity没有显式的指明该Activity的taskAffinity，那么它的这个属性就等于Application这个标签中指明的taskAffinity；如果Application标签中也没有指明taskAffinity属性，那么该Activity的taskAffinity的值就等于包名。</p>

<p>&emsp;&emsp;当活动的启动模式指定为singleTask，有三种情况：<br/>
（1）如果Activity指定的栈不存在，则创建一个栈，并把创建的Activity压入该栈内；</p>

<p><img src="../asset/img/singleTask3.png" alt=""/></p>

<p>（2）如果Activity指定的栈存在，每次启动该活动时系统首先会在返回栈中检查是否存在该活动的实例，，如果不存在该Activity实例，就会创建一个新的活动实例并进入栈顶，生命周期同创建一个新的活动一致。</p>

<p><img src="../asset/img/singleTask1.png" alt=""/></p>

<p>（3）如果Activity指定的栈存在，每次启动该活动时系统首先会在返回栈中检查是否存在该活动的实例，如果发现已经存在则直接使用该实例，并把这个活动之上的所有活动杀死清除出栈，让该Activity实例处于栈顶，该Activity的其它生命周期方法不执行，只是调用onNewIntent()方法。</p>

<p><img src="../asset/img/singleTask2.png" alt=""/></p>

<p>&emsp;&emsp;应用场景：<br/>
&emsp;&emsp;大多数APP的主页。对于大部分应用，当我们在主界面点击回退按钮的时候都是退出应用，那么当我们进入主界面Activity以后，主界面就位于栈顶。以后不管我们打开多少个Activity，只要我们回到主界面，都应该使用将主界面Activity上所有的Activity移除的方式来让主界面Activity处于栈顶，通过这种方式能够保证在主界面退出应用时所有的Activity都能被销毁。</p>

<p>&emsp;&emsp;如果是在别的应用程序中启动该模式的Activity，如果系统中不存在该Activity，则会新建一个Task，并在该Task中启动这个Activity。</p>

<h3 id="toc_20">singleInstance（单实例模式）</h3>

<p>&emsp;&emsp;在启动单例模式的Activity实例时，系统为其创造一个单独的任务栈，以后每次使用时都会使用这个单例，直到其被销毁，属于真正的单例模式。一旦该模式的Activity实例已经存在于某个栈中，任何应用再调用该Activity时都会重用该栈中的Activity实例。<br/>
&emsp;&emsp;与栈内复用模式不同，栈内复用模式时指定taskAffinity属性，所创建的任务栈并不独享，仍可添加其他的Activity；而单实例模式所创建的任务栈只含有这个实例，所以说是真正的单例模式。<br/>
&emsp;&emsp;指定为singleInstance模式的活动会启用一个新的返回栈来管理这个活动（其实如果singleTask模式指定了不同的taskAffinity，也会启动一个新的返回栈）。假设我们的程序中有一个活动是允许其他程序调用的，那我们要实现其他程序和我们的程序都可以共享这个活动的实例。前三种启动模式肯定是做不到的，因为每个应用程序都会有自己的返回栈，同一个活动在不同的返回栈中入栈时必然是创建了新的实例。而使用singleInstance模式就可以解决这个问题，在这种模式下会有一个单独的返回栈来管理这个活动，不管是哪个应用程序来访问这个活动，都共用的同一个返回栈，也就解决了共享活动实例的问题。</p>

<p>&emsp;&emsp;使用场景：经常用于系统中的应用，如Launcher、锁屏键的应用、来电显示界面等。</p>

<h3 id="toc_21">特殊情况--前台栈和后台栈的交互</h3>

<p>&emsp;&emsp;假如目前有两个任务栈，前台任务栈中的Acivity为A、B，后台任务栈中的Activity为C、D，这里假设C、D的启动模式都是singleTask，现在启动D，那么这个后台任务栈就会被切换到前台，这个时候整个后退列表就变成了A、B、C、D。当用户按返回键返回时，列表中的Activity会一一出栈。如下图：</p>

<p><img src="../asset/img/%E5%89%8D%E5%8F%B0%E6%A0%88%E4%B8%8E%E5%90%8E%E5%8F%B0%E6%A0%88%E7%9A%84%E4%BA%A4%E4%BA%921.png" alt=""/></p>

<p>&emsp;&emsp;如果不是启动D，而是启动C，那么情况又不一样，如下图：</p>

<p><img src="../asset/img/%E5%89%8D%E5%8F%B0%E6%A0%88%E4%B8%8E%E5%90%8E%E5%8F%B0%E6%A0%88%E7%9A%84%E4%BA%A4%E4%BA%922.png" alt=""/></p>

<p>&emsp;&emsp;调用singleTask模式的后台任务栈中的Activity，会把整个栈的Activity压入当前栈的栈顶。singleTask模式具有clearTop特性，会把启动的Activity之上的栈内Activity清除。</p>

<h3 id="toc_22">设置启动模式的方式</h3>

<p>&emsp;&emsp;设置启动模式的方式有两种，一种是静态的，在AndroidManifest中的Activity声明launchMode属性。另一种是动态的，在startActivity()的Intent中设置启动标志位，即Flag，如intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASKS)。这两种方式有优先级，动态指定方式比静态指定方式的优先级高，如果这两种方式同时存放，以动态指定方式为准。<font color=green>第一种方式无法为 Activity 直接指定 FLAG_ACTIVITY_CLEAR_TOP 标识，另外一种方式无法为 Activity 指定 singleInstance 模式。</font><br/>
&emsp;&emsp;常见标志位如下：</p>

<h4 id="toc_23">FLAG_ACTIVITY_SINGLE_TOP</h4>

<p>&emsp;&emsp;同栈顶复用的启动模式，也就是singleTop模式；</p>

<h4 id="toc_24">FLAG_ACTIVITY_NEW_TASK:</h4>

<p>&emsp;&emsp;同栈内复用的启动模式，单独使用不具备清除顶部的效果，也就是singleTask模式；</p>

<h4 id="toc_25">FLAG_ACTIVITY_CLEAR_TOP:</h4>

<p>&emsp;&emsp;具有此标记位的Activity，当它启动时，在同一个任务栈中所有位于它上面的栈都要出栈。如果和singleTask模式一起出现，若被启动的Activity已经存在栈中，则清除其之上的Activity，并调用该Activity的onNewIntent()方法。如果被启动的Activity采用standard模式，那么该Activity连同之上的所有Activity出栈，然后创建新的Activity实例并压入栈中。</p>

<p>&emsp;&emsp;在设置启动模式是，AndroidManifest与startActivity()的Intent还有一些区别：<br/>
&emsp;&emsp;1.AndroidManifest无法设置清除顶部的效果，只有栈内复用的启动模式含有清除顶部的效果；而startActivity()的Intent支持设置FLAG_ACTIVITY_CLEAR_TOP属性，实现清除顶部的效果，并且在标准的启动模式中也可以应用；<br/>
&emsp;&emsp;2.startActivity()的Intent无法设置单实例的启动模式；<br/>
&emsp;&emsp;两者任选其一使用即可，如果两种方式均设置，startActivity()的Intent的优先级大于AndroidManifest的优先级，startActivity()的Intent会覆盖AndroidManifest的效果。<br/>
&emsp;&emsp;startActivityForResult()也是启动Activity的一种方式，不同于startActivity()，需要设置返回值。startActivityForResult()使用启动模式启动Activity时，也会有一些不同，其效果是可以正常传递返回值，但是无法复用实例，即无法触发单例效果，会重复创建多份实例。因为startActivityForResult()需要返回值，任何时候都需要保留实例，接收返回值，这一特性覆盖原有的单例效果。需要注意的是：在Android4.x一下版本中，通过startActivityForResult()启动singleTask，无法正常获取返回值；在Android5.x以上版本中已修复此问题，但是考虑兼容性的问题，不推荐startActivityForResult()和单例的启动模式同时使用。<br/>
&emsp;&emsp;Activity的启动模式关系到Activity在任务栈中的存在形式，影响Activity的展示顺序。Android系统并未提供操作任务栈的接口，无法任意改变Activity的存储顺序，栈中Activity排列都依赖于启动模式。Android系统的任务栈体系分为三层：<br/>
1.第一层是Stack，每一个应用属于一个Stack，一一对应；<br/>
2.第二层是TaskRecord，它含有一组Activity，通过单例模式（SingleTask和SingleInstance）支持创建多个TaskRecord；<br/>
3.第三层是ActivityRecord，每一个Activity实例就是一个ActivityRecord，相同的Activity支持存在多份实例；<br/>
&emsp;&emsp;启动模式的本质就是解决如何避免相同的Activity创建多个实例。对于标准模式，在每次启动Activity时，都会创建一份实例，在某些情况下，这属于系统资源的浪费。因此，Android系统通过启动模式提供三种解决方案：<br/>
1.栈顶复用模式：当Activity位于栈顶时，重复创建实例，直接复用；当Activity位于栈中时，与标准模式相同；<br/>
2.栈内复用模式：当Activity位于栈顶时，同栈顶复用模式；当Activity位于栈中时，清除其上的全部实例，直至位于栈顶；<br/>
3.单实例模式：直接创建一个任务栈，无论Activity在任何位置，都会复用这个实例。<br/>
&emsp;&emsp;栈内复用模式与单实例模式都支持创建新的任务栈，这会涉及前台任务栈与后台任务栈的关系，即Stack中含有多个TaskTecord。如果使用系统的默认后退操作，即出栈操作，只有当前任务栈全部出栈完毕时，才会切换至其他的任务栈，或者通过启动单例模式的Activity，才会触发切换任务栈。这个地方很容易操作疑惑，即入栈的顺序和出栈的顺序不同。</p>

<h3 id="toc_26">启动模式注意事项</h3>

<p>&emsp;&emsp;当一个Activity设置了SingleTop或者SingleTask模式后，跳转此Activity出现复用原有Activity的情况时，此Activity的onCreate（）方法不会再次调用，但是我们一般在onCreate()方法中进行页面的UI初始化和数据初始化。若页面展示的数据就是通过getIntent（）方法来获取，那么问题就出现了，getIntent()获取的是旧的数据，根本无法接收跳转时传送的新数据。比如如下代码：</p>

<pre class="line-numbers"><code class="language-java">public class FirstActivity extends BaseActivity{
    
    @Override
    protected void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_first);
        initData();
        initView();
    }
    
    //初始化数据;
    private void initData(){
        Intent intent = getIntent();
        String name = intent.getStringExtra(&quot;intent_name&quot;);
    }
    
    //初始化UI;
    private void initView(){
        ···//处理UI；
    }
    
}
</code></pre>

<p>&emsp;&emsp;当复用再次跳转到FirstActivity页面时，onCreate()方法不会被调用，也就意味着此时页面无法展示新的数据。但是会调用onNewIntent(Intent intent)方法，我们就可以从这个方法中获取新的数据，进行数据处理或者UI更新。就可以如下代码这样子来处理：</p>

<pre class="line-numbers"><code class="language-java">public class FirstActivity extends BaseActivity{
    
    @Override
    protected void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_first);
        //初始化数据;
        initData();
        //初始化UI;
        initView();
    }
    
    @Override
    protected void onNewIntent(Intent intent){
        super.onNewIntent(intent);
        //把复用该页面时传过来的Intent重新赋值为mIntent，这样getIntent()方法就相当于更新到了传递过来的Intent，而不再是旧的Intnet;
        setIntent(intent);
        initData();
        initView();
    }
    
    //初始化数据;
    private void initData(){
        Intent intent = getIntent();
        String name = intent.getStringExtra(&quot;intent_name&quot;);
    }
    
    //初始化UI;
    private void initView(){
        ···//处理UI；
    }
}
</code></pre>

<p>&emsp;&emsp;在上面的代码中，如果我们不想在onNewIntent(Intent intent)方法中使用setIntent(intent)方法，也可以直接使用onNewIntent(Intent intent)方法中传过来的参数intent，比如直接使用intent.getStringExtra(&quot;intent_name&quot;);。<br/>
&emsp;&emsp;向外引申一下，我们获取传递到Activity时候的Intent，使用的是getIntent()方法，再次更新Activity中的Intent使用的是setIntent()方法，这两个方法是在Activity.java类中的。<br/>
Activity.java类中的方法：</p>

<pre class="line-numbers"><code class="language-java">public class Activity extends ContextThemeWrapper
        implements LayoutInflater.Factory2,
        Window.Callback, KeyEvent.Callback,
        OnCreateContextMenuListener, ComponentCallbacks2,
        Window.OnWindowDismissedCallback, WindowControllerCallback,
        AutofillManager.AutofillClient {
        
    //声明Intent;    
    Intent mIntent;
    
    //获取Intent;
    public Intent getIntent(){
        return mIntent;
    }
    
    //更新Intent;
    public void setIntent(Intent newIntent) {
        mIntent = newIntent;
    }
    
    //在attach（）方法中进行mIntent的赋值。attach（）方法很重要，好多处理都是在这里开始的;
    final void attach(Context context, ActivityThread aThread,
            Instrumentation instr, IBinder token, int ident,
            Application application, Intent intent, ActivityInfo info,
            CharSequence title, Activity parent, String id,
            NonConfigurationInstances lastNonConfigurationInstances,
            Configuration config, String referrer, IVoiceInteractor voiceInteractor,
            Window window, ActivityConfigCallback activityConfigCallback) {
        ···//省略代码；
        mIntent = intent;
        ···//省略代码；       
    }
}
</code></pre>

<h3 id="toc_27">快速启动一个Activity</h3>

<p>&emsp;&emsp;就是不要在Activity的onCreate()方法中执行过多繁重的操作，并且在onPause()方法中同样不要做过多的耗时操作。<br/>
&emsp;&emsp;注意这是快速启动一个Activity，而不是快速启动一个应用，优化一个应用的启动时间要比优化一个Activity要复杂的多。</p>

<h2 id="toc_28">Activity中数据相关</h2>

<h3 id="toc_29">Activity 间通过 Intent 传递数据大小限制</h3>

<h3 id="toc_30">内存不足时系统会杀掉后台的Activity，若需要进行一些临时状态的保存，在哪个方法进行</h3>

<h3 id="toc_31">onSaveInstanceState() 被执行的场景</h3>

<h3 id="toc_32">两个 Activity 之间跳转时必然会执行的方法</h3>

<h3 id="toc_33">用 Intent 去启动一个Activity 之外的方法</h3>

<h3 id="toc_34">scheme 跳转协议</h3>

<h4 id="toc_35">scheme 定义</h4>

<h4 id="toc_36">scheme 协议格式</h4>

<h4 id="toc_37">scheme 使用</h4>

<h2 id="toc_38">注意事项</h2>

<ul>
<li>startActivity（）方法最终调用的是startActivityForResult()方法，只是startActivity()的实现是startActivityForResult()方法内部的请求码requestCode固定为-1，所以如果使用startActivityForResult()方法时，请求码写成了-1，那么就相当于调用了startActivity()方法，onActivityResult()方法不会被回调；</li>
<li>设置启动页：<br/>
我们一般会设置启动页的style的android:windowBackground的属性来设置启动页的背景图片，如果不需要在启动页设置除了背景图片以外的控件，那么甚至可以不需要在启动页SplashActivity页面中使用setContentView(R.layout.activity_splash)方法，就直接在onCreate()方法中进行页面跳转或者数据处理；</li>
</ul>

<pre class="line-numbers"><code class="language-java">&lt;!--启动页style--&gt;
&lt;style name=&quot;AppSplashTheme&quot; parent=&quot;AppTheme&quot;&gt;
    &lt;item name=&quot;android:windowBackground&quot;&gt;@mipmap/ic_launcher&lt;/item&gt;
&lt;/style&gt;

&lt;!-- 启动页面 --&gt;
&lt;activity
    android:name=&quot;.SplashActivity&quot;
    android:screenOrientation=&quot;portrait&quot;
    android:theme=&quot;@style/AppSplashTheme&quot;
    &gt;
    &lt;intent-filter&gt;
        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;
        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;

//SplashActivity页面；
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    //进行相应的业务逻辑操作；    
}
</code></pre>

<p>不过，一般我们都会设置启动页的背景图占据全屏幕。就需要style文件中添加一个属性android:windowFullscreen，设置为true；<br/>
还有，带有底部导航栏的手机，需要一个属性android:windowDrawsSystemBarBackgrounds，设置为true，不过该属性的使用需要最低兼容版本为API 21，也就是5.0；</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15927964749535.html"  title="Previous Post: Android Studio使用viewbinding">&laquo; Android Studio使用viewbinding</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15601389773513.html" 
	        title="Next Post: ScrollView和HorizontalView">ScrollView和HorizontalView &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15598792154683.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
